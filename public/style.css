:root {
  /* Temasek Polytechnic Red Theme - Deep & Premium */
  --primary: #d90429;       /* Main Brand Red */
  --primary-dark: #8d0801;  /* Deep Wine/Crimson */
  --secondary: #ef233c;     /* Lighter Red highlight */
  --accent: #2b2d42;        /* Dark Slate Accent */
  
  --bg-color: #f4f4f5;
  --card-bg: #ffffff;
  --text-main: #1a1a1a;
  --text-light: #666;
  
  --shadow: 0 10px 20px rgba(0,0,0,0.08);
  --shadow-hover: 0 15px 30px rgba(141, 8, 1, 0.25); /* Darker Red Shadow */
  --radius: 16px;
  --font: 'Poppins', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: var(--font);
  background-color: var(--bg-color);
  background-image: radial-gradient(at 0% 0%, hsla(253,16%,7%,0) 0, hsla(253,16%,7%,0) 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,0) 0, hsla(225,39%,30%,0) 50%), radial-gradient(at 100% 0%, hsla(339,49%,30%,0) 0, hsla(339,49%,30%,0) 50%);
  color: var(--text-main);
  min-height: 100vh;
  padding-top: 10px; 
}

/* =========================================
   SHARED UI COMPONENTS
   ========================================= */
.auth-card, .action-card, .event-card, .modal-content, .popup-content {
  background: white;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  transition: all 0.3s ease;
  padding: 30px;
}

.action-card:hover, .event-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-hover);
}

.input-group input, .modal-content input, .modal-content select {
  width: 100%;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  background: #fdfdfd;
  transition: all 0.3s ease;
  padding: 15px;
  font-size: 15px;
  margin-bottom: 15px;
  height: auto;
}

.input-group input:focus, .modal-content input:focus, .modal-content select:focus {
  border-color: var(--primary);
  outline: none;
  background: #fff;
  box-shadow: 0 0 0 4px rgba(217, 4, 41, 0.1);
}

/* =========================================
   DASHBOARD & LAYOUT
   ========================================= */
main { 
  max-width: 95vw;    /* Takes up 95% of the viewport width */
  width: 95%;         /* Fallback for older browsers */
  margin: 0 auto;     /* Centers the content */
  padding: 40px 2%;   /* Responsive horizontal padding */
}

h2 {
  color: var(--primary-dark); font-weight: 600; margin-bottom: 25px;
  position: relative; display: inline-block;
}
h2::after {
  content: ''; display: block; width: 40px; height: 4px;
  background: var(--accent); border-radius: 2px; margin-top: 5px;
}

/* =========================================
   CARDS & GRIDS
   ========================================= */
.action-grid, #eventContainer, #viewedList {
  display: grid;
  /* Automatically adds as many columns as will fit (min 300px wide) */
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
  gap: 25px;
  width: 100%;
}

.action-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); margin-bottom: 50px; }

.action-card {
  display: flex; flex-direction: column; align-items: center;
  justify-content: center; cursor: pointer;
  border: 1px solid transparent;
}
.action-card:hover { border-color: var(--primary); }
.action-card img { width: 64px; height: 64px; margin-bottom: 15px; opacity: 0.9; }
.action-card span { font-weight: 600; }

#eventContainer, #viewedList { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }

/* =========================================
   THE NEW MINIMAL EVENT CARD
   ========================================= */
.grid-event-card {
    background: white;
    border: 1px solid #eaeaea; 
    border-radius: 16px;       
    overflow: hidden;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    box-shadow: none; /* Clean flat look */
}

.grid-event-card:hover {
    transform: translateY(-4px);
    border-color: #d90429;     
    box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
}

.card-image-placeholder {
    height: 160px;
    background: #f9f9f9;
    display: flex; 
    align-items: center; 
    justify-content: center; 
    position: relative;
    border-bottom: 1px solid #f5f5f5;
}

.card-image-placeholder img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.card-date-badge {
    position: absolute; 
    top: 12px; left: 12px;
    background: white; 
    padding: 6px 12px; 
    border-radius: 30px; 
    font-size: 11px; 
    font-weight: 700; 
    color: #1a1a1a;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.card-content { 
    padding: 20px; 
    display: flex; 
    flex-direction: column; 
    flex: 1; 
}

.card-title { 
    font-size: 16px; 
    font-weight: 700; 
    margin: 0 0 8px 0; 
    color: #1a1a1a; 
    line-height: 1.4; 
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis;
}

.card-desc {
    font-size: 13px;
    color: #666;
    margin-bottom: 15px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2; 
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.5;
    height: 40px; 
}
.card-info { 
    font-size: 12px; 
    color: #888; 
    margin-bottom: 5px; 
    display: flex; 
    align-items: center; 
    gap: 8px; 
    font-weight: 500; 
}

.card-info svg { 
    stroke: #aaa; 
    width: 14px; 
    height: 14px; 
    transition: stroke 0.2s;
}

.grid-event-card:hover .card-info svg { stroke: #d90429; }

.grid-event-card button {
    margin-top: 15px;
    width: 100%;
    background: transparent !important;
    color: #d90429 !important;
    border: 1px solid #d90429 !important;
    padding: 10px;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.grid-event-card button:hover {
    background: #d90429 !important;
    color: white !important;
}

/* =========================================
   RECENT ACTIVITY WIDGET
   ========================================= */
#recentActivityList { display: flex; flex-direction: column; gap: 12px; }
.activity-row {
    background: #ffffff;
    border: 1px solid #f0f0f0;
    border-radius: 12px;
    padding: 12px 15px !important;
    display: flex; align-items: center;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}
.activity-row:hover {
    transform: translateX(5px);
    border-color: var(--primary);
    box-shadow: 0 4px 12px rgba(141, 8, 1, 0.15);
}
.activity-row div[style*="font-weight: 600"] { color: #1a1a1a; font-size: 15px !important; }
.activity-row div[style*="font-size: 12px"] { color: #888; margin-top: 2px; }


/* =========================================
   MODALS & OVERLAYS
   ========================================= */
#popupForm, #registerFormPopup, #attendeesPopup, #noteModal, #scannedProfileModal, #feedbackModal {
  display: none; position: fixed; top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  justify-content: center; align-items: center;
  z-index: 2000; backdrop-filter: blur(5px);
}

.modal-content {
  border: none; animation: slideUp 0.3s ease-out;
  width: 90%; max-width: 500px;
  max-height: 85vh; overflow-y: auto; display: block;
}
.modal-content::-webkit-scrollbar { width: 10px; }
.modal-content::-webkit-scrollbar-track { background: transparent; margin: 20px 0; }
.modal-content::-webkit-scrollbar-thumb { background-color: #d1d1d1; border-radius: 20px; border: 3px solid transparent; background-clip: content-box; }
.modal-content::-webkit-scrollbar-thumb:hover { background-color: var(--primary); }

.modal-content input, .modal-content select {
  padding: 8px 10px; height: 38px; font-size: 14px; margin-bottom: 8px; border-radius: 5px;
}
.modal-content button { margin-top: 10px; padding: 10px 0; }

@keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* =========================================
   QR & FLOATING BUTTONS
   ========================================= */
#qr-reader-container {
  background: black; border-radius: var(--radius);
  padding: 20px; color: white; margin-bottom: 30px; text-align: center;
  position: relative; overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.4); border: 4px solid #fff;
}
#stopScanBtn {
  background: var(--accent); color: white; padding: 8px 15px;
  border-radius: 20px; border: none; margin-top: 10px; cursor: pointer;
}
.scan-laser {
    position: absolute; width: 100%; height: 3px;
    background: #ef233c;
    box-shadow: 0 0 15px #ef233c, 0 0 30px #ef233c;
    top: 0; animation: scanMove 2s infinite ease-in-out;
    opacity: 0.9; z-index: 20;
}
@keyframes scanMove {
    0% { top: 5%; opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { top: 95%; opacity: 0; }
}

/* Floating Create Event Button - Deep Wine Gradient */
#createEventBtn {
  position: fixed; bottom: 40px; right: 40px; z-index: 1000;
  width: auto; height: auto; padding: 15px 30px; border-radius: 50px;
  background: linear-gradient(135deg, var(--primary-dark), var(--primary)); /* Dark Red Gradient */
  box-shadow: 0 10px 30px rgba(141, 8, 1, 0.4);
  border: none; color: white; font-size: 16px; font-weight: 600;
  cursor: pointer; display: none; align-items: center; gap: 12px;
  transition: transform 0.2s, box-shadow 0.2s;
  animation: gentlePulse 3s infinite;
}
#createEventBtn:hover { transform: translateY(-5px); animation: none; }

@keyframes gentlePulse {
  0% { box-shadow: 0 0 0 0 rgba(141, 8, 1, 0.5); }
  70% { box-shadow: 0 0 0 20px rgba(141, 8, 1, 0); }
  100% { box-shadow: 0 0 0 0 rgba(141, 8, 1, 0); }
}

/* =========================================
   NAVBAR - SHARED STYLES
   ========================================= */
.global-nav {
  position: fixed;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  z-index: 1000;
  border-color: rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}
.nav-content { padding: 0 20px; display: flex; align-items: center; }
.nav-logo { font-weight: 700; font-size: 20px; text-decoration: none; color: #1d1d1f; }
.center-nav { list-style: none; margin: 0; padding: 0; }
.center-nav a, .desktop-links a { text-decoration: none; transition: 0.2s; display: block; }
.center-nav a:hover { opacity: 1; color: var(--primary); }

/* =========================================
   MODE 1: DESKTOP SIDEBAR - BIGGER & LIFTED
   ========================================= */
body:not(.mobile-view) .global-nav {
  top: 0; left: 0; 
  width: 280px;
  height: 100vh;
  border-right: 1px solid rgba(0,0,0,0.1); 
  
  /* PADDING CHANGE: 60px at the bottom lifts the buttons up */
  padding: 30px 0 60px 0;       
  
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  position: fixed;
  z-index: 1000;
  overflow: hidden; 
  background: rgba(255, 255, 255, 0.95);
}

/* 1. LOGO */
body:not(.mobile-view) .nav-logo { 
  font-size: 32px;      /* Slightly bigger for desktop */
  margin-bottom: 30px;  
  padding-left: 20px;
  font-weight: 800;
  color: #1a1a1a;
  text-decoration: none;
}

body:not(.mobile-view) .nav-content {
  flex-direction: column; align-items: flex-start; height: 100%; padding: 0 20px; gap: 0;
}

/* 2. CENTER NAV - BIGGER TEXT */
body:not(.mobile-view) .center-nav { 
  display: flex; 
  flex-direction: column; 
  justify-content: flex-start; 
  
  /* Relaxed gap for desktop */
  gap: 18px; 
  
  width: 100%; 
  flex-grow: 1; 
}

/* LINK STYLES - BIGGER */
body:not(.mobile-view) .center-nav a {
  font-size: 17px;      /* CHANGED: Bigger text (was 15px) */
  font-weight: 600;     /* CHANGED: Slightly bolder */
  padding: 12px 15px;   /* More breathing room */
  border-radius: 12px; 
  color: var(--text-main); 
  text-decoration: none;
  display: flex; 
  align-items: center; 
  gap: 15px;            /* More space between icon and text */
  transition: all 0.2s ease;
}

body:not(.mobile-view) .center-nav a:hover {
  background: rgba(141, 8, 1, 0.05); 
  color: var(--primary);
  transform: translateX(5px);
}

/* 3. BOTTOM ACTIONS */
body:not(.mobile-view) .right-actions {
  margin-top: auto; 
  display: flex; 
  flex-direction: column; 
  gap: 15px;            
  width: 100%; 
  padding-top: 20px; 
  border-top: 1px solid rgba(0,0,0,0.05);
}

/* Bottom Links - Bigger */
body:not(.mobile-view) .desktop-links a {
    font-size: 15px; /* Increased from 14px */
    padding: 10px 15px; 
    border-radius: 8px;
    display: flex; align-items: center; gap: 12px; 
    color: #0071e3;
    font-weight: 600;
    text-decoration: none;
}
body:not(.mobile-view) .desktop-links a:hover { 
    background: #f0f0f0; 
}

/* Icons - Bigger */
body:not(.mobile-view) .global-nav a svg { 
    stroke-width: 2.2; 
    width: 22px;  /* Bigger icons */
    height: 22px; 
    transition: stroke 0.2s; 
    stroke: currentColor; 
}

body:not(.mobile-view) .desktop-links { display: flex; flex-direction: column; gap: 8px; width: 100%; }
body:not(.mobile-view) .desktop-links a {
    font-size: 14px; padding: 8px 15px; border-radius: 8px;
    display: flex; align-items: center; gap: 10px; color: #0071e3; font-weight: 500;
}
body:not(.mobile-view) .desktop-links a:hover { background: #f0f0f0; }
body:not(.mobile-view) .desktop-links .active-profile-link {
    background: rgba(217, 4, 41, 0.1); color: var(--primary) !important; font-weight: 600 !important;
}
/* Icons */
body:not(.mobile-view) .global-nav a svg { stroke-width: 2; width: 18px; height: 18px; transition: stroke 0.2s; }
body:not(.mobile-view) main { 
  margin-left: 280px;         
  width: calc(100% - 280px);  
  max-width: 100% !important; /* Force full width override */
  padding: 40px;              
  display: block;             /* Ensure it behaves */
}

/* Admin Theme (Dark Mode) */
body:not(.mobile-view) .global-nav.admin-theme { background: #111; border-right: 1px solid #333; }
body:not(.mobile-view) .global-nav.admin-theme .nav-logo { color: white; }
body:not(.mobile-view) .global-nav.admin-theme .center-nav a { color: #888; }
body:not(.mobile-view) .global-nav.admin-theme .center-nav a:hover,
body:not(.mobile-view) .global-nav.admin-theme .center-nav a.active-admin { background: rgba(255, 255, 255, 0.1); color: white; }

/* =========================================
   LOGIN PAGE STYLES
   ========================================= */
body.login-page {
  /* Rich Dark Wine Gradient */
  background: linear-gradient(135deg, #370617 0%, #6a040f 50%, #d90429 100%) !important;
  display: flex; justify-content: center; align-items: center; height: 100vh; padding-top: 0 !important;
}
.login-card {
  background: white; width: 100%; max-width: 400px; padding: 30px 40px;
  border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); text-align: center;
  position: relative; max-height: 90vh; overflow-y: auto; display: flex; flex-direction: column;
}
.login-card::-webkit-scrollbar { width: 6px; }
.login-card::-webkit-scrollbar-thumb { background-color: #ddd; border-radius: 10px; }

.logo-icon {
  width: 45px; height: 45px; background: #d90429; color: white;
  border-radius: 12px; display: flex; align-items: center; justify-content: center;
  margin: 0 auto 15px auto; font-size: 24px; box-shadow: 0 10px 20px rgba(217, 4, 41, 0.3);
}
.login-card h1 { color: #1a1a1a; font-size: 22px; font-weight: 700; margin-bottom: 5px; }
.subtitle { color: #666; font-size: 14px; margin-bottom: 20px; line-height: 1.5; }
.login-card .input-group input { padding: 12px 15px !important; margin-bottom: 10px !important; font-size: 14px !important; }

/* Login Button - Deep Wine */
.btn-login {
  width: 100%; padding: 15px;
  background: linear-gradient(135deg, #8d0801 0%, #d90429 100%);
  color: white; border: none; border-radius: 12px;
  font-size: 16px; font-weight: 600; cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 10px 20px rgba(141, 8, 1, 0.25);
}
.btn-login:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(141, 8, 1, 0.35); }
.footer-link { margin-top: 25px; font-size: 13px; color: #888; }
.footer-link a { color: #d90429; text-decoration: none; font-weight: 600; }
.error-msg {
  color: #d90429; font-size: 13px; margin-bottom: 15px; display: none;
  background: #fff0f3; padding: 10px; border-radius: 8px; border: 1px solid #ffccd5;
}

/* =========================================
   DASHBOARD NEW DESIGN (Hero & Tiles)
   ========================================= */
.dashboard-grid {
    display: grid; grid-template-columns: 2.5fr 1fr; gap: 20px; margin-bottom: 40px;
}
.hero-card {
    background: linear-gradient(135deg, #6a040f 0%, #d90429 100%);
    border-radius: 20px; 
    padding: 30px; 
    color: white;
    display: flex; flex-direction: column; justify-content: space-between;
    min-height: 220px; 
    box-shadow: 0 10px 30px rgba(217, 4, 41, 0.3);
    position: relative; overflow: hidden; transition: transform 0.3s ease;
}
.hero-card:hover { transform: translateY(-3px); }
.hero-card::after {
    content: ''; position: absolute; top: -50px; right: -50px;
    width: 200px; height: 200px; background: rgba(255,255,255,0.1); border-radius: 50%;
}
.hero-badge {
    background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 20px;
    font-size: 12px; font-weight: 600; text-transform: uppercase; display: inline-block; margin-bottom: 15px;
}
.hero-content h1 { font-size: 28px; font-weight: 700; margin: 0 0 10px 0; line-height: 1.2; }
.hero-content p { font-size: 14px; opacity: 0.9; margin: 0; max-width: 90%; }
.hero-footer { margin-top: 25px; display: flex; gap: 20px; font-size: 14px; font-weight: 500; }

.quick-actions-sidebar { display: flex; flex-direction: column; gap: 15px; }
.action-tile {
    border: none; border-radius: 18px; padding: 0 25px;
    display: flex; align-items: center; gap: 15px;
    cursor: pointer; flex: 1; min-height: 100px; position: relative; overflow: hidden;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: left;
}
.action-tile:hover { transform: translateY(-4px) scale(1.02); }

/* Tile Variants (Deep Crimson / Midnight Violet) */
.scan-tile {
    background: linear-gradient(135deg, #8d0801 0%, #d90429 100%);
    color: white;
    box-shadow: 0 8px 25px rgba(141, 8, 1, 0.25);
    border: 1px solid rgba(255,255,255,0.1);
}
.scan-tile:hover {
    box-shadow: 0 12px 35px rgba(141, 8, 1, 0.4);
    transform: translateY(-4px) scale(1.02);
}
.scan-tile .tile-icon-bubble {
    background: rgba(255, 255, 255, 0.15);
    color: white; border: 1px solid rgba(255,255,255,0.1);
}

.upload-tile {
    background: linear-gradient(135deg, #240046 0%, #3c096c 100%);
    color: white;
    box-shadow: 0 8px 25px rgba(60, 9, 108, 0.25);
    border: 1px solid rgba(255,255,255,0.1);
}
.upload-tile:hover {
    box-shadow: 0 12px 35px rgba(60, 9, 108, 0.4);
    transform: translateY(-4px) scale(1.02);
}
.upload-tile .tile-icon-bubble {
    background: rgba(255, 255, 255, 0.1);
    color: #e0aaff; border: 1px solid rgba(255,255,255,0.1);
}

.tile-icon-bubble {
    width: 48px; height: 48px; border-radius: 14px; display: flex; align-items: center; justify-content: center;
    backdrop-filter: blur(5px); transition: transform 0.3s ease;
}
.action-tile:hover .tile-icon-bubble { transform: rotate(-10deg) scale(1.1); }
.tile-info { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; }
.tile-info h3 { font-size: 18px; font-weight: 700; margin: 0 0 2px 0; color: white; }
.tile-info span { font-size: 12px; opacity: 0.8; font-weight: 500; }
.tile-arrow { opacity: 0.6; transform: translateX(0); transition: all 0.3s ease; }
.action-tile:hover .tile-arrow { opacity: 1; transform: translateX(5px); }

/* =========================================
   PROFILE PAGE
   ========================================= */
.profile-header { text-align: center; margin-bottom: 40px; }
.profile-header h1 { font-size: 32px; margin: 15px 0 5px 0; color: var(--text-main); }
.profile-header p { color: var(--text-light); font-size: 14px; margin: 0; }
.photo-wrapper { position: relative; width: 120px; height: 120px; margin: 0 auto; }
.profile-img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 4px solid white; box-shadow: 0 10px 20px rgba(0,0,0,0.1); background: #e1e1e1; }
.camera-icon {
    position: absolute; bottom: 5px; right: 5px; background: var(--primary); color: white;
    width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
    cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: transform 0.2s; border: 2px solid white;
}
.camera-icon:hover { transform: scale(1.1); }
.hidden-input { display: none; }

.profile-card { background: white; border-radius: var(--radius); padding: 30px; box-shadow: var(--shadow); margin-bottom: 25px; transition: all 0.3s ease; }
.section-title { font-size: 18px; font-weight: 700; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; color: var(--primary-dark); }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.full-width { grid-column: span 2; }

.input-wrapper { display: flex; flex-direction: column; gap: 8px; }
.input-wrapper label { font-size: 12px; font-weight: 600; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.5px; }
.optional-text { font-weight: normal; color: #999; text-transform: none; }
.input-wrapper input, .input-wrapper textarea {
    padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 15px;
    font-family: var(--font); background: #fdfdfd; transition: all 0.3s ease;
}
.input-wrapper input:focus, .input-wrapper textarea:focus { border-color: var(--primary); outline: none; background: white; box-shadow: 0 0 0 4px rgba(217, 4, 41, 0.1); }
.input-wrapper textarea { resize: vertical; min-height: 80px; }

/* Floating Save Bar - Deep Wine Gradient */
.save-bar { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 900; }
body:not(.mobile-view) .save-bar { left: calc(50% + 120px); }
.save-btn {
    background: linear-gradient(135deg, var(--primary-dark), var(--primary)); 
    color: white; border: none; padding: 14px 40px; border-radius: 50px; font-size: 16px; font-weight: 600;
    box-shadow: 0 10px 25px rgba(141, 8, 1, 0.4); cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;
}
.save-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(141, 8, 1, 0.5); }

/* =========================================
   SCAN PAGE STYLES (PREMIUM UI)
   ========================================= */
.scan-card-container {
    background: white; border-radius: 30px; padding: 50px 40px;
    box-shadow: 0 30px 60px rgba(0,0,0,0.05); max-width: 600px; margin: 30px auto;
    position: relative; overflow: hidden; text-align: center;
}
.scan-card-container h1 {
    font-size: 36px; font-weight: 800; margin-bottom: 10px;
    background: linear-gradient(135deg, #1a1a1a 0%, #444 100%);
    -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent;
}
.scan-card-container p { font-size: 16px; color: #888; margin-bottom: 40px; font-weight: 500; }
.scan-options { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 20px; }

.scan-page-tile {
    border: none !important; border-radius: 24px !important; padding: 40px 20px !important;
    display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
    cursor: pointer; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative; overflow: hidden; min-height: 200px;
}
.scan-page-tile.scan-tile { background: linear-gradient(135deg, #8d0801 0%, #d90429 100%); box-shadow: 0 15px 35px rgba(141, 8, 1, 0.3); }
.scan-page-tile.upload-tile { background: linear-gradient(135deg, #240046 0%, #3c096c 100%); box-shadow: 0 15px 35px rgba(60, 9, 108, 0.3); }
.scan-page-tile:hover { transform: translateY(-8px) scale(1.02); }
.scan-page-tile.scan-tile:hover { box-shadow: 0 25px 50px rgba(141, 8, 1, 0.5); }
.scan-page-tile.upload-tile:hover { box-shadow: 0 25px 50px rgba(60, 9, 108, 0.5); }

.scan-page-tile .tile-icon-bubble {
    width: 70px; height: 70px; background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px);
    border-radius: 20px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px;
    border: 1px solid rgba(255, 255, 255, 0.3); transition: transform 0.4s ease;
}
.scan-page-tile:hover .tile-icon-bubble { transform: scale(1.1) rotate(-5deg); background: rgba(255, 255, 255, 0.3); }
.scan-page-tile .tile-icon-bubble svg { stroke: white !important; width: 32px; height: 32px; }
.scan-page-tile .tile-info h3 { color: white; font-size: 20px; font-weight: 700; margin: 0 0 5px 0; }
.scan-page-tile .tile-info span { color: rgba(255, 255, 255, 0.8); font-size: 13px; font-weight: 500; }
.scan-page-tile .tile-arrow { display: none; }

/* =========================================
   NETWORK PAGE STYLES
   ========================================= */
.network-hero {
    background: linear-gradient(135deg, #6a040f 0%, #d90429 100%);
    border-radius: 24px; padding: 40px; margin-bottom: 30px; color: white;
    display: flex; justify-content: space-between; align-items: center;
    box-shadow: 0 10px 30px rgba(141, 8, 1, 0.2);
}
.network-hero h1 { font-size: 32px; font-weight: 700; margin: 0; color: white !important; }
.network-hero p { color: rgba(255, 255, 255, 0.9); margin: 5px 0 0 0; font-weight: 500; }

.network-search-container { position: relative; width: 300px; }
.network-search-input {
    width: 100%; padding: 12px 20px 12px 45px; border: none; border-radius: 30px;
    background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px);
    color: white; font-family: 'Poppins', sans-serif; font-size: 14px; transition: all 0.2s; outline: none;
}
.network-search-input::placeholder { color: rgba(255, 255, 255, 0.7); }
.network-search-input:focus { background: white; color: #1a1a1a; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
.network-search-icon {
    position: absolute; left: 15px; top: 50%; transform: translateY(-50%);
    stroke: rgba(255, 255, 255, 0.7); pointer-events: none; transition: stroke 0.2s;
}
.network-search-input:focus + .network-search-icon { stroke: #d90429; }

.network-card { border: 1px solid #f0f0f0; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important; }
.network-card:hover { transform: translateY(-8px) !important; box-shadow: 0 15px 30px rgba(0,0,0,0.08) !important; border-color: #ffe5e9; }
.network-meta-box { background: #fff0f3 !important; border-radius: 12px; padding: 12px; font-size: 13px; }
.network-meta-label { color: #d90429; font-size: 11px; font-weight: 700; text-transform: uppercase; margin-bottom: 5px; }

/* =========================================
   EVENTS PAGE STYLES (PULSE THEMED)
   ========================================= */

/* 1. Search Bar - Deep Wine Button */
.events-search-bar {
    display: flex;
    margin-bottom: 25px;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 50px;
    padding: 5px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.03);
    transition: all 0.3s ease;
}

.events-search-bar:focus-within {
    border-color: var(--primary);
    box-shadow: 0 8px 25px rgba(217, 4, 41, 0.15);
    transform: translateY(-2px);
}

.events-search-bar input {
    flex: 1; padding: 12px 25px; border: none; font-size: 15px;
    outline: none; font-family: 'Poppins', sans-serif; background: transparent; color: #333;
}

.events-search-bar button {
    background: linear-gradient(135deg, #8d0801, #d90429); /* Deep Wine */
    color: white; border: none; width: 45px; height: 45px; border-radius: 50%;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: transform 0.2s; margin-right: 2px;
}
.events-search-bar button:hover { transform: scale(1.05); }

/* 2. Filter Row */
.events-filter-row { display: flex; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; }
.filter-btn {
    background: #f8f9fa; border: 1px solid transparent; padding: 10px 18px;
    border-radius: 12px; font-size: 13px; font-weight: 600; color: #555;
    cursor: pointer; display: flex; align-items: center; gap: 8px; transition: all 0.2s ease;
}
.filter-btn svg { stroke: #888; transition: 0.2s; }
.filter-btn:hover {
    background: white; color: var(--primary); box-shadow: 0 4px 12px rgba(0,0,0,0.05); transform: translateY(-2px);
}
.filter-btn:hover svg { stroke: var(--primary); }

/* 3. Category Pills - Deep Wine Active State */
.events-category-row {
    display: flex; gap: 10px; margin-bottom: 35px; overflow-x: auto; padding-bottom: 5px;
}
.cat-pill {
    padding: 10px 24px; border-radius: 30px; border: 1px solid #eee; background: white;
    color: #666; font-weight: 600; font-size: 13px; cursor: pointer; white-space: nowrap;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}
.cat-pill:hover { color: var(--primary); border-color: var(--primary); background: #fff0f3; }

.cat-pill.active {
    background: linear-gradient(135deg, #8d0801, #d90429); /* Deep Wine */
    color: white; border-color: transparent;
    box-shadow: 0 5px 15px rgba(141, 8, 1, 0.3);
    transform: scale(1.05);
}

/* 4. The Event Grid Layout */
.events-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }

/* =========================================
   TODAY'S EVENT BANNER (CINEMATIC HERO)
   ========================================= */
.todays-event-card {
    position: relative;
    width: 100%;
    min-height: 280px;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: flex-end;
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    margin-bottom: 30px;
    background-color: #1a1a1a;
    border: 1px solid rgba(255,255,255,0.1);
}

.todays-event-card:hover {
    transform: scale(1.01);
    box-shadow: 0 30px 60px -12px rgba(217, 4, 41, 0.25);
}

/* Full Background Image */
.t-card-bg {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-size: cover;
    background-position: center;
    z-index: 0;
    transition: transform 4s ease;
}
.todays-event-card:hover .t-card-bg { transform: scale(1.05); }

/* Cinematic Gradient Overlay */
.t-card-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(
        to top, 
        rgba(0,0,0,0.95) 0%, 
        rgba(0,0,0,0.6) 50%, 
        rgba(0,0,0,0.3) 100%
    );
    z-index: 1;
}

/* Content Container */
.t-card-content {
    position: relative;
    z-index: 2;
    width: 100%;
    padding: 35px;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
}

/* Text Styling */
.t-event-info { flex: 1; margin-right: 20px; }

.t-event-title {
    font-size: 36px;
    font-weight: 800;
    color: white;
    margin: 0 0 12px 0;
    line-height: 1.1;
    text-shadow: 0 10px 30px rgba(0,0,0,0.5);
    letter-spacing: -0.5px;
}

.t-event-meta {
    display: flex;
    gap: 15px;
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
    font-weight: 500;
}

.t-meta-item {
    display: flex; align-items: center; gap: 8px;
    background: rgba(255, 255, 255, 0.15);
    padding: 8px 14px;
    border-radius: 10px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.t-meta-item svg { width: 16px; height: 16px; stroke: #fff; stroke-width: 2.5; }

/* Live Pulse Badge */
.live-badge {
    position: absolute;
    top: 25px; right: 25px;
    background: rgba(220, 38, 38, 0.95);
    color: white;
    font-size: 11px;
    font-weight: 800;
    padding: 8px 16px;
    border-radius: 30px;
    text-transform: uppercase;
    letter-spacing: 1px;
    display: inline-flex; align-items: center; gap: 8px;
    z-index: 10;
    box-shadow: 0 0 25px rgba(220, 38, 38, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.live-dot {
    width: 8px; height: 8px; background: white; border-radius: 50%;
    animation: livePulse 1.5s infinite;
}

/* --- ACTION BUTTONS --- */
.t-card-actions {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* 1. VIEW QR (Solid White Pill) */
.btn-qr-view {
    background: #ffffff;
    color: #0f172a;
    border: none;
    padding: 14px 28px;
    border-radius: 30px;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    display: flex; align-items: center; gap: 8px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.btn-qr-view:hover { 
    transform: translateY(-3px); 
    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.4); 
    background: #f8fafc;
}
.btn-qr-view svg { stroke: #0f172a; width: 18px; height: 18px; stroke-width: 2.5; }

/* 2. CHECK IN (Brand Gradient) */
.btn-checkin {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white; border: none; 
    padding: 14px 30px; border-radius: 30px;
    font-weight: 700; font-size: 14px; cursor: pointer;
    display: flex; align-items: center; gap: 8px;
    box-shadow: 0 0 25px rgba(16, 185, 129, 0.4);
    transition: all 0.2s ease;
}
.btn-checkin:hover { 
    transform: translateY(-3px); 
    box-shadow: 0 0 40px rgba(16, 185, 129, 0.6); 
}

/* 3. RATE EVENT (Glass - Desktop) */
.btn-rate {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 12px 24px;
    border-radius: 30px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    backdrop-filter: blur(10px);
    display: flex; align-items: center; gap: 8px;
    transition: all 0.2s ease;
}
.btn-rate:hover { 
    background: rgba(255, 255, 255, 0.25); 
    border-color: white;
    transform: translateY(-2px);
}

/* 4. CHECKED IN STATUS (Neon Text) */
.status-checked {
    display: flex; align-items: center; gap: 8px;
    font-size: 13px; font-weight: 700;
    color: #34d399; /* Neon Mint */
    text-transform: uppercase; letter-spacing: 1px;
    text-shadow: 0 0 15px rgba(52, 211, 153, 0.6);
    background: rgba(0,0,0,0.3);
    padding: 8px 16px; border-radius: 20px;
    border: 1px solid rgba(52, 211, 153, 0.3);
}
.status-checked svg { stroke: #34d399; width: 16px; height: 16px; stroke-width: 3; }

/* =========================================
   MOBILE & TABLET STACK (Cinematic Fixed)
   ========================================= */
@media (max-width: 1024px) { /* Increased breakpoint to catch tablets */
    
    .todays-event-card { 
        min-height: auto; 
        flex-direction: column; 
        justify-content: flex-end;
        padding: 0;
        /* Ensure background stays absolute and covers everything */
        background-color: #1a1a1a;
    }
    
    /* Keep the Cinematic Background */
    .t-card-bg {
        position: absolute; 
        top: 0; left: 0; width: 100%; height: 100%;
        opacity: 0.6; /* Dim image slightly more for text readability */
    }
    .t-card-overlay { 
        display: block; /* Keep the dark gradient */
        background: linear-gradient(to top, rgba(0,0,0,0.95) 20%, rgba(0,0,0,0.4) 100%);
    }

    /* Stack Content Vertically */
    .t-card-content { 
        padding: 25px;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-end;
        gap: 20px;
        width: 100%;
    }

    /* Title & Info */
    .t-event-info { 
        margin-right: 0; 
        width: 100%; 
        margin-top: 60px; /* Push text down so it doesn't overlap badge */
    }

    .t-event-title { 
        font-size: 28px; /* Slightly smaller for mobile */
        margin-bottom: 10px;
    }

    .t-event-meta {
        flex-wrap: wrap;
        gap: 10px;
    }

    /* Actions: Allow wrapping so buttons don't get cut off */
    .t-card-actions { 
        width: 100%; 
        display: flex;
        flex-wrap: wrap; /* ðŸ”¥ This allows buttons to drop to next line */
        gap: 12px;
        margin-top: 5px;
    }

    .btn-checkin, .btn-qr-view { 
        flex: 1; /* Grow to fill space */
        justify-content: center; 
        white-space: nowrap;
        min-width: 120px;
    }

    /* Make Rate Button Visible & Pop */
    .btn-rate {
        flex: 1;
        justify-content: center;
        background: rgba(217, 4, 41, 0.2); /* Red tint */
        border-color: #d90429;
        color: #fff;
        min-width: 100px;
    }

    /* Fix Status Text */
    .status-checked {
        width: 100%; /* Full width on mobile */
        justify-content: center;
        background: rgba(16, 185, 129, 0.15);
        border: 1px solid rgba(16, 185, 129, 0.3);
        margin-top: 5px;
    }
}

/* =========================================
   MODE 2: MOBILE VIEW SIMULATION
   ========================================= */
body.mobile-view {
  position: relative; max-width: 414px; margin: 0 auto;
  border-left: 1px solid #ddd; border-right: 1px solid #ddd;
  min-height: 100vh; overflow-x: hidden;
  box-shadow: 0 0 50px rgba(0,0,0,0.1); background-color: #f5f5f7;
  padding-top: 60px;
}
/* Mobile Top Navbar */
body.mobile-view .global-nav {
  top: 0; left: 0; width: 100%; height: 60px;
  border-bottom: 1px solid rgba(0,0,0,0.1); border-right: none; padding: 0;
  background: rgba(255, 255, 255, 0.95); position: absolute; max-width: 414px;
}
body.mobile-view .nav-content {
  flex-direction: row !important; justify-content: space-between !important;
  align-items: center !important; width: 100%; height: 100%; padding: 0 20px; gap: 0;
}
body.mobile-view .center-nav, body.mobile-view .desktop-links { display: none !important; }
body.mobile-view .right-actions {
  display: flex !important; flex-direction: row !important; align-items: center !important;
  width: auto !important; margin-top: 0 !important; border-top: none !important; padding-top: 0 !important; gap: 15px;
}
body.mobile-view .hamburger-icon { display: flex !important; flex-direction: column; gap: 5px; cursor: pointer; }
body.mobile-view .hamburger-icon span { width: 22px; height: 2px; background: #333; border-radius: 2px; }

/* Mobile Dropdown Menu */
.mobile-menu-dropdown {
  display: none; position: absolute; top: 70px; right: 20px; width: 200px;
  background: white; border-radius: 12px; flex-direction: column; padding: 8px 0;
  box-shadow: 0 10px 40px rgba(0,0,0,0.15); border: 1px solid #eee; z-index: 2000;
}
.mobile-menu-dropdown[style*="display: flex"] { display: flex !important; }
.mobile-menu-dropdown a {
  padding: 10px 20px; text-decoration: none; color: #333; font-size: 14px; font-weight: 500;
  display: block; transition: background 0.2s;
}
.mobile-menu-dropdown a:hover { background-color: #f5f5f7; color: var(--primary); }
.mobile-menu-dropdown div[style*="border-bottom"] { border-bottom: 1px solid #f0f0f0 !important; }

/* Switch for Mobile View */
.switch { position: relative; display: inline-block; width: 36px; height: 20px; }
.switch input { opacity: 0; width: 0; height: 0; }
.switch .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.switch .knob { position: absolute; height: 14px; width: 14px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
.switch input:checked + .slider { background-color: var(--primary); }
.switch input:checked + .slider + .knob { transform: translateX(14px); }

/* STRICT LAYOUT & WIDTH FIXES */
body.mobile-view main {
    width: 100% !important; max-width: 100% !important;
    padding: 15px !important; box-sizing: border-box !important;
    overflow-x: hidden !important; margin: 0 auto !important;
}
body.mobile-view .dashboard-grid { display: flex !important; flex-direction: column !important; gap: 15px !important; }
body.mobile-view .hero-card { width: 100% !important; min-height: 180px; }
body.mobile-view .quick-actions-sidebar { display: flex !important; flex-direction: row !important; gap: 10px !important; width: 100% !important; }
body.mobile-view .action-tile {
    flex: 1 !important; min-height: 85px !important; padding: 0 12px !important; gap: 8px !important;
}
body.mobile-view .tile-arrow { display: none !important; }
body.mobile-view .tile-info h3 { font-size: 15px !important; }
body.mobile-view .tile-info span { font-size: 11px !important; }

/* HERO BANNER MOBILE FIXES */
body.mobile-view .visual-hero-banner {
    flex-direction: column !important;
    justify-content: center !important;
    text-align: center !important;
    padding: 40px 20px !important;
    position: relative !important;
    overflow: hidden !important;
}
body.mobile-view .hero-content-wrapper {
    max-width: 100% !important;
    width: 100% !important;
    text-align: center !important;
    z-index: 10 !important;
    position: relative !important;
}
body.mobile-view .hero-actions {
    justify-content: center !important;
}
body.mobile-view .hero-visual-abstract {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) scale(0.7) !important;
    margin: 0 !important;
    opacity: 0.25 !important;
    z-index: 1 !important;
    width: 300px !important;
    pointer-events: none !important;
}

/* PROFILE PAGE MOBILE */
body.mobile-view #profileForm { width: 100% !important; display: flex !important; flex-direction: column !important; gap: 20px !important; }
body.mobile-view .profile-header { text-align: center !important; margin-bottom: 20px !important; width: 100% !important; }
body.mobile-view .profile-card { width: 100% !important; margin-bottom: 15px !important; box-sizing: border-box !important; }
body.mobile-view .form-grid { display: flex !important; flex-direction: column !important; gap: 15px !important; }
body.mobile-view .input-wrapper, body.mobile-view .input-group { width: 100% !important; max-width: 100% !important; margin-right: 0 !important; }
body.mobile-view .full-width { grid-column: auto !important; width: 100% !important; }
body.mobile-view .save-bar {
    position: fixed !important; bottom: 30px !important; left: 50% !important;
    transform: translateX(-50%) !important; width: auto !important; max-width: 380px !important; z-index: 1000 !important;
}
body.mobile-view .save-btn {
    width: auto !important; padding: 12px 30px !important; display: flex !important;
    justify-content: center !important; white-space: nowrap !important; box-shadow: 0 10px 30px rgba(0,0,0,0.2) !important;
}

/* NETWORK & EVENTS MOBILE FIXES */
body.mobile-view .network-grid, body.mobile-view .events-grid, body.mobile-view #eventsGridContainer, body.mobile-view #eventContainer {
    display: flex !important; flex-direction: column !important; width: 100% !important; gap: 15px !important; box-sizing: border-box !important;
}
body.mobile-view .network-card, body.mobile-view .grid-event-card, body.mobile-view .event-card {
    width: 100% !important; margin: 0 !important; box-sizing: border-box !important; min-width: 0 !important;
}
body.mobile-view .network-hero {
    flex-direction: column !important; align-items: flex-start !important; padding: 20px !important; gap: 15px !important; border-radius: 16px !important;
}
body.mobile-view .network-search-container, body.mobile-view .events-search-bar { width: 100% !important; display: flex !important; box-sizing: border-box !important; margin-bottom: 15px !important; max-width: 100% !important; }
body.mobile-view .network-search-input, body.mobile-view .events-search-bar input {
    width: 0 !important; flex-grow: 1 !important; min-width: 0 !important; font-size: 14px !important;
}
body.mobile-view .events-filter-row, body.mobile-view .events-category-row {
    display: flex !important; flex-wrap: nowrap !important; overflow-x: auto !important;
    width: 100% !important; gap: 10px !important; padding-bottom: 10px !important;
    -webkit-overflow-scrolling: touch; scrollbar-width: none;
}
body.mobile-view .events-filter-row::-webkit-scrollbar, body.mobile-view .events-category-row::-webkit-scrollbar { display: none; }
body.mobile-view .filter-btn, body.mobile-view .cat-pill { flex: 0 0 auto !important; white-space: nowrap !important; }

/* SCAN PAGE MOBILE */
body.mobile-view .scan-card-container { background: transparent; box-shadow: none; padding: 0; margin-top: 10px; }
body.mobile-view .scan-options { grid-template-columns: 1fr; gap: 20px; }
body.mobile-view .scan-page-tile {
    min-height: 160px; flex-direction: row; padding: 0 30px !important; justify-content: flex-start; gap: 20px; text-align: left;
}
body.mobile-view .scan-page-tile .tile-icon-bubble { margin-bottom: 0; width: 60px; height: 60px; }
body.mobile-view .scan-page-tile .tile-info { align-items: flex-start; margin-top: 0; }

/* MODALS ON MOBILE */
body.mobile-view .modal, body.mobile-view #popupForm, body.mobile-view #createEventPopup, body.mobile-view #registerFormPopup,
body.mobile-view #attendeesPopup, body.mobile-view #noteModal, body.mobile-view #scannedProfileModal,
body.mobile-view #attendeeInfoPopup, body.mobile-view #qrPopup, body.mobile-view #feedbackModal {
    display: none !important; opacity: 0 !important; pointer-events: none !important; z-index: -1 !important;
}
body.mobile-view .modal[style*="flex"], body.mobile-view .modal[style*="block"],
body.mobile-view #popupForm[style*="flex"], body.mobile-view #popupForm[style*="block"],
body.mobile-view #createEventPopup[style*="flex"], body.mobile-view #createEventPopup[style*="block"],
body.mobile-view #registerFormPopup[style*="flex"], body.mobile-view #registerFormPopup[style*="block"],
body.mobile-view #attendeesPopup[style*="flex"], body.mobile-view #attendeesPopup[style*="block"],
body.mobile-view #noteModal[style*="flex"], body.mobile-view #noteModal[style*="block"],
body.mobile-view #scannedProfileModal[style*="flex"], body.mobile-view #scannedProfileModal[style*="block"],
body.mobile-view #attendeeInfoPopup[style*="flex"], body.mobile-view #attendeeInfoPopup[style*="block"],
body.mobile-view #qrPopup[style*="flex"], body.mobile-view #qrPopup[style*="block"],
body.mobile-view #feedbackModal[style*="flex"], body.mobile-view #feedbackModal[style*="block"] {
    position: fixed !important; top: 0 !important; left: 50% !important; transform: translateX(-50%) !important;
    width: 100% !important; max-width: 414px !important; height: 100% !important;
    z-index: 20000 !important; background: rgba(0,0,0,0.85) !important;
    display: flex !important; justify-content: center !important; align-items: center !important;
    opacity: 1 !important; pointer-events: auto !important;
}
body.mobile-view .popup-content, body.mobile-view .modal-content, body.mobile-view .bomb-modal {
    width: 85% !important; max-width: 340px !important; max-height: 80vh !important;
    margin: 0 !important; position: relative !important; overflow-y: auto !important;
    z-index: 20001 !important; top: auto !important; left: auto !important;
}
body.mobile-view .popup-content button, body.mobile-view .modal-content button, body.mobile-view .bomb-modal button,
body.mobile-view .close-btn, body.mobile-view #closeInfoBtn, body.mobile-view #closeQR, body.mobile-view #closeScannedModal {
    cursor: pointer !important; pointer-events: auto !important; position: relative !important; z-index: 20005 !important;
}
body.mobile-view .dashboard-grid button, body.mobile-view .action-tile, body.mobile-view .event-card button {
    z-index: 1 !important; position: relative !important;
}
body.mobile-view #scannedProfileModal[style*="flex"], body.mobile-view #scannedProfileModal[style*="block"],
body.mobile-view #attendeeInfoPopup[style*="flex"], body.mobile-view #attendeeInfoPopup[style*="block"],
body.mobile-view #registerFormPopup[style*="flex"], body.mobile-view #registerFormPopup[style*="block"],
body.mobile-view #eventDetailsPopup[style*="flex"], body.mobile-view #eventDetailsPopup[style*="block"],
body.mobile-view #feedbackModal[style*="flex"], body.mobile-view #feedbackModal[style*="block"] {
    align-items: flex-start !important; padding-top: 40px !important; padding-bottom: 40px !important; overflow-y: auto !important;
}
body.mobile-view #attendeeInfoPopup .popup-content, body.mobile-view #eventDetailsPopup .details-card, body.mobile-view #registerFormPopup .bomb-modal, body.mobile-view #scannedProfileModal .popup-content, body.mobile-view #feedbackModal .popup-content {
    margin: 0 auto !important; top: 0 !important; transform: none !important;
}

/* Create Event Mobile Btn */
body.mobile-view #createEventBtn {
    right: auto !important; left: 50% !important; margin-left: 140px !important;
    bottom: 30px !important; width: 56px !important; height: 56px !important;
    padding: 0 !important; border-radius: 50% !important; justify-content: center !important; gap: 0 !important;
}
body.mobile-view #createEventBtn span { display: none !important; }
body.mobile-view #createEventBtn svg { margin: 0 !important; width: 24px !important; height: 24px !important; }

/* Login Page Mobile Strip */
body.login-page.mobile-view {
  width: 100%; max-width: 414px !important; margin: 0 auto !important; min-height: 100vh;
  box-shadow: 0 0 0 100vw #f4f4f5, 0 0 50px rgba(0,0,0,0.2) !important;
  background: linear-gradient(135deg, #370617 0%, #6a040f 50%, #d90429 100%) !important;
  display: flex !important; flex-direction: column; justify-content: center; align-items: center;
  padding: 20px !important; position: relative !important; top: auto !important; left: auto !important; transform: none !important;
}
body.login-page.mobile-view .login-card { width: 100% !important; max-width: 100% !important; padding: 30px 20px !important; box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important; }
body.login-page.mobile-view #view-toggle-btn {
  position: fixed !important; bottom: 30px !important; left: 50% !important; transform: translateX(-50%) !important;
  z-index: 1000; border: 2px solid white !important; box-shadow: 0 5px 15px rgba(0,0,0,0.3) !important;
}

/* Admin Mode Mobile */
body.admin-mode .global-nav { background: #111 !important; border-right: 1px solid #333 !important; }
body.admin-mode .nav-logo { color: white !important; }
body.admin-mode .center-nav a, body.admin-mode .desktop-links a { color: #aaa !important; }
body.admin-mode .dashboard-grid, body.admin-mode #viewedProfilesSection, body.admin-mode #qr-reader-container { display: none !important; }
body.admin-mode #adminStatsGrid { display: grid !important; }
body.mobile-view .global-nav.admin-theme { background: #111; border-bottom: 1px solid #333; }
body.mobile-view.admin-mode #adminStatsGrid { display: flex !important; flex-direction: column !important; width: 100% !important; gap: 15px !important; }
body.mobile-view:not(.admin-mode) #adminStatsGrid { display: none !important; }
body.mobile-view #adminStatsGrid .action-card { width: 100% !important; margin: 0 !important; }

/* =========================================
   UPDATED INTRO ANIMATION (DARKER & ALIVE)
   ========================================= */
#intro-overlay {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    
    /* 1. DARKER THEME: Radial Gradient (Spotlight Effect) 
       Center is Dark Crimson, fading out to almost Black */
    background: radial-gradient(circle at center, #5e0000 0%, #2b0000 50%, #0a0a0a 100%);
    
    /* 2. ALIVE BACKGROUND: We zoom the background in/out */
    background-size: 140% 140%;
    
    /* 3. ANIMATION SYNC:
       - 'gloomBreathe': Animates the background darkness
       - 'slideCurtainUp': Lifts the screen after 2.2s */
    animation: gloomBreathe 3s ease-in-out infinite, slideCurtainUp 0.8s cubic-bezier(0.7, 0, 0.3, 1) forwards 2.2s;
    
    z-index: 9999; display: flex; justify-content: center; align-items: center; flex-direction: column;
}

/* New Background Animation: The "Breathing Room" Effect */
@keyframes gloomBreathe {
    0% { 
        background-size: 140% 140%; 
        background-position: center;
    }
    50% { 
        /* Zooms in and exposes more of the red center */
        background-size: 180% 180%; 
    }
    100% { 
        background-size: 140% 140%; 
    }
}

.intro-logo { display: flex; flex-direction: column; align-items: center; color: white; }

.intro-logo svg {
    width: 80px; height: 80px; stroke-width: 3;
    /* Darker, richer glow (Crimson instead of bright red) */
    filter: drop-shadow(0 0 25px rgba(141, 8, 1, 0.6)); 
    animation: heartbeat 1s infinite;
}

.intro-logo h1 {
    font-size: 40px; font-weight: 800; margin-top: 15px; letter-spacing: -1px; opacity: 0;
    color: #e0e0e0; /* Slightly muted white for elegance */
    animation: fadeInText 0.5s ease forwards 0.5s;
    text-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

/* Keep existing Keyframes */
@keyframes heartbeat {
    0% { transform: scale(1); opacity: 0.9; }
    15% { transform: scale(1.25); opacity: 1; } /* Pump */
    30% { transform: scale(1); opacity: 0.9; }
    45% { transform: scale(1.15); opacity: 1; } /* Echo Pump */
    60% { transform: scale(1); opacity: 0.9; }
    100% { transform: scale(1); opacity: 0.9; }
}

@keyframes fadeInText { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

@keyframes slideCurtainUp {
    0% { transform: translateY(0); border-radius: 0; }
    100% { transform: translateY(-100%); border-radius: 0 0 50% 50%; }
}

/* Login Card Entrance */
.login-card { opacity: 0; animation: cardEntrance 0.8s ease forwards 2.6s; }
@keyframes cardEntrance { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
/* =========================================
   FINAL HERO BANNER (Fixed Layout - Midnight Blue)
   ========================================= */

/* --- DESKTOP DEFAULT: Text Left, Visual Right --- */
.visual-hero-banner {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    border-radius: 24px; padding: 60px; margin-bottom: 40px;
    display: flex; flex-direction: row; justify-content: space-between; align-items: center;
    position: relative; overflow: hidden; color: white;
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.15);
    min-height: 350px;
}

.hero-content-wrapper { max-width: 55%; z-index: 2; text-align: left; }
.hero-visual-abstract {
    position: relative; width: 300px; height: 300px;
    display: flex; align-items: center; justify-content: center;
    margin-left: auto; margin-right: 0;
}

/* --- MOBILE VIEW: Text Center, Visual Background Center --- */
@media (max-width: 768px) {
    .visual-hero-banner {
        flex-direction: column !important; justify-content: center !important; text-align: center !important;
        padding: 50px 20px; min-height: 350px; position: relative;
    }
    .hero-content-wrapper { 
        max-width: 100% !important; width: 100% !important; text-align: center !important; z-index: 10;
    }
    .hero-content-wrapper h1 { font-size: 36px; margin-bottom: 15px; }
    .hero-content-wrapper p { margin-bottom: 30px; margin-left: auto; margin-right: auto; }
    .hero-actions { justify-content: center !important; width: 100%; gap: 10px; }
    .btn-hero-main, .btn-hero-secondary { flex: 1; padding: 12px 0; font-size: 14px; display: flex; justify-content: center; }

    .hero-visual-abstract { 
        position: absolute !important; top: 50% !important; left: 50% !important;
        transform: translate(-50%, -50%) scale(0.8) !important; 
        margin: 0 !important; right: auto !important; bottom: auto !important;
        opacity: 0.3; z-index: 1; pointer-events: none;
    }
}

/* --- SHARED STYLES (Deep Wine Theme & Animated Pulse) --- */
.hero-welcome { display: block; font-size: 13px; font-weight: 700; color: #94a3b8; margin-bottom: 15px; letter-spacing: 1px; text-transform: uppercase; }

/* 1. Darker Brand Color for Name */
#heroUserName { color: #d90429; } 

.hero-content-wrapper h1 { font-size: 56px; font-weight: 800; margin-bottom: 20px; line-height: 1.1; letter-spacing: -2px; }

/* 2. Text Highlight - Darker Red */
.highlight-pulse { color: #d90429; position: relative; display: inline-block; }
.highlight-pulse::after { 
    content: ''; position: absolute; bottom: 5px; left: 0; width: 100%; height: 12px; 
    background: rgba(141, 8, 1, 0.2); /* Deep Red Alpha */
    z-index: -1; transform: skewX(-15deg); 
}

.hero-content-wrapper p { color: #cbd5e1; font-size: 16px; margin-bottom: 35px; line-height: 1.6; max-width: 90%; font-weight: 400; }

/* 3. Hero Buttons - Deep Wine Gradient */
.hero-actions { display: flex; gap: 15px; justify-content: flex-start; }

.btn-hero-main { 
    background: linear-gradient(135deg, #8d0801 0%, #d90429 100%); /* Deep Wine */
    color: white; border: none; padding: 14px 32px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: all 0.2s; font-size: 15px; 
}
.btn-hero-main:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 10px 20px rgba(141, 8, 1, 0.4); /* Dark Red Shadow */
}

.btn-hero-secondary { background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 14px 32px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: all 0.2s; font-size: 15px; }
.btn-hero-secondary:hover { background: rgba(255,255,255,0.2); }

/* 4. ANIMATION OBJECTS (The Fix) */

.core-circle { 
    width: 80px; height: 80px; 
    /* îžæ«¨ LIVE LIQUID BACKGROUND: Moving Gradient */
    background: linear-gradient(270deg, #6a040f, #9d0208, #d90429, #6a040f);
    background-size: 300% 300%;
    animation: gradientMove 6s ease infinite; /* Moving Animation */
    
    border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 5; 
    box-shadow: 0 0 40px rgba(106, 4, 15, 0.6); /* Deep Glow */
    position: relative; 
}

/* Background Movement Keyframes */
@keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.ring { 
    position: absolute; border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%); 
    /* Darker Border Lines */
    border: 2px solid rgba(141, 8, 1, 0.6); 
    box-shadow: 0 0 15px rgba(141, 8, 1, 0.2); 
}

.ring-1 { width: 100px; height: 100px; animation: pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite; }
.ring-2 { width: 100px; height: 100px; animation: pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite 0.6s; }
.ring-3 { width: 100px; height: 100px; animation: pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite 1.2s; }

@keyframes pulseRing { 
    0% { width: 80px; height: 80px; opacity: 0.8; border-width: 3px; } 
    50% { opacity: 0.5; } 
    100% { width: 380px; height: 380px; opacity: 0; border-width: 0px; } 
}

/* =========================================
   FIX: MESSAGING MODAL ON MOBILE
   ========================================= */

/* 1. Add Chat to the "Visible" List */
body.mobile-view #chatPopup[style*="flex"], 
body.mobile-view #chatPopup[style*="block"] {
    position: fixed !important;
    top: 0 !important; left: 50% !important;
    transform: translateX(-50%) !important;
    width: 100% !important; height: 100% !important;
    max-width: 414px !important;
    z-index: 20000 !important;
    background: rgba(0,0,0,0.85) !important;
    display: flex !important; justify-content: center !important; align-items: center !important;
    opacity: 1 !important; pointer-events: auto !important;
}

/* 2. Fix the Inner Chat Card layout */
/* We MUST overwrite the generic 'overflow-y: auto' that breaks chat layouts */
body.mobile-view #chatPopup .bomb-modal {
    width: 90% !important;
    max-width: 360px !important;
    height: 80vh !important;
    max-height: 80vh !important;
    
    /* îžæ«¨ CRITICAL: Flex layout needs hidden overflow to work */
    overflow: hidden !important; 
    display: flex !important; 
    flex-direction: column !important;
    
    margin: 0 !important;
    position: relative !important;
    top: auto !important; left: auto !important;
    transform: none !important;
}

/* 3. Ensure the Message List Scrolls (Not the whole card) */
body.mobile-view #chatMessages {
    flex: 1 !important;
    overflow-y: auto !important;
    height: auto !important;
    padding-bottom: 20px !important;
}

/* 4. Fix Input Area */
body.mobile-view #chatPopup input {
    font-size: 16px !important; /* Prevents iOS zoom on focus */
}

/* =========================================
   INBOX / MESSAGES PAGE (FIXED LAYOUT)
   ========================================= */

/* 1. Base Styles (Desktop Default) */
/* FIX: Match sidebar width exactly and uncap the container width */
.inbox-main { 
    padding: 0 !important; 
    overflow: hidden; 
    height: 100vh;
    margin-left: 280px !important;  /* CHANGED from 260px to 280px to match sidebar */
    width: calc(100% - 280px) !important; /* CHANGED to match above */
    background-color: #fff;
}

.inbox-container {
    display: flex; 
    height: 100%; 
    width: 100%;        /* Force full width */
    max-width: none;    /* REMOVED 1200px limit so it touches the edges */
    margin: 0;          /* REMOVED auto margin */
    border-right: 1px solid #eee; 
    border-left: 1px solid #eee;
}

/* Sidebar (List) */
.inbox-sidebar {
    width: 350px; 
    border-right: 1px solid #f0f0f0; 
    display: flex; 
    flex-direction: column; 
    background: #fff;
}
.inbox-header { padding: 20px; border-bottom: 1px solid #f0f0f0; }
.inbox-header h2 { font-size: 20px; margin: 0; color: #1a1a1a; }

.conversation-list { flex: 1; overflow-y: auto; }
.conv-item {
    display: flex; padding: 15px 20px; gap: 15px; cursor: pointer; 
    transition: background 0.2s; border-bottom: 1px solid #f9f9f9;
    align-items: center;
}
.conv-item:hover { background: #f9f9f9; }
.conv-item.active { background: #fff0f3; border-left: 4px solid #d90429; }

.conv-photo { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; border: 1px solid #eee; }
.conv-info { flex: 1; overflow: hidden; }
.conv-top { display: flex; justify-content: space-between; margin-bottom: 4px; }
.conv-name { font-weight: 600; font-size: 14px; color: #1a1a1a; }
.conv-time { font-size: 11px; color: #999; }
.conv-preview { font-size: 13px; color: #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Chat Area (Right) */
.inbox-chat-area { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    background: #fdfdfd; 
    position: relative; 
}

.chat-header-bar {
    padding: 15px 20px; background: white; border-bottom: 1px solid #eee;
    display: flex; align-items: center; gap: 15px; height: 70px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.02); z-index: 10;
}
#chatHeaderPhoto { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }

.messages-scroll {
    flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px;
    background-image: radial-gradient(#e5e7eb 1px, transparent 1px); background-size: 20px 20px;
}

.msg-bubble {
    max-width: 70%; padding: 10px 16px; border-radius: 18px; font-size: 14px; line-height: 1.5; position: relative;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}
.msg-bubble.me {
    align-self: flex-end; background: #d90429; color: white;
    border-bottom-right-radius: 4px;
}
.msg-bubble.them {
    align-self: flex-start; background: white; color: #333;
    border-bottom-left-radius: 4px; border: 1px solid #eee; 
}

.chat-input-bar {
    padding: 15px 20px; background: white; border-top: 1px solid #eee; display: flex; gap: 10px;
    align-items: center;
}
#inboxInput { padding: 12px 20px; border-radius: 30px; border: 1px solid #ddd; flex: 1; outline: none; transition: border 0.3s; }
#inboxInput:focus { border-color: #d90429; }

#inboxSendBtn {
    width: 45px; height: 45px; border-radius: 50%; background: #d90429; border: none;
    display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s;
    box-shadow: 0 4px 10px rgba(217, 4, 41, 0.3);
}
#inboxSendBtn:hover { transform: scale(1.1); }

.mobile-only-btn {
    display: none; /* Hidden on Desktop */
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px; /* Bigger touch target */
    margin-right: 5px;
    border-radius: 50%; /* Circular hover effect */
    transition: background 0.2s;
    
    /* Flex to center the icon */
    align-items: center; 
    justify-content: center;
}

.mobile-only-btn:active {
    background: rgba(0,0,0,0.05); /* Subtle click feedback */
}
/* =========================================
   MOBILE FIXES FOR INBOX
   ========================================= */

@media (max-width: 768px) {
    .inbox-sidebar { width: 100%; display: block; border-right: none; }
    .inbox-chat-area { display: none; width: 100%; position: absolute; top: 0; left: 0; height: 100%; z-index: 50; }
    .mobile-only-btn { display: block; }
    .conv-item.active { background: transparent; border-left: none; }
}

/* SIMULATOR OVERRIDES */
body.mobile-view .inbox-main {
    margin-left: 0 !important; /* Reset margin on mobile */
    width: 100% !important;
    height: calc(100vh - 60px) !important; /* Minus Header */
    margin-top: 0 !important;
}

body.mobile-view .inbox-container { flex-direction: column; border: none; }
body.mobile-view .inbox-sidebar { width: 100% !important; display: block; }
body.mobile-view .inbox-chat-area { display: none; /* JS toggles this */ }

/* =========================================
   FIX: MESSAGES MOBILE SIMULATOR & RESET
   ========================================= */

/* 1. Force Back Button in Simulator */
body.mobile-view .mobile-only-btn {
    display: block !important;
}

/* 2. RESET LAYOUT ON DESKTOP SWITCH (The "Undo" Fix) */
/* When NOT in mobile view, force the sidebar and chat to be visible side-by-side */
body:not(.mobile-view) .inbox-sidebar {
    display: flex !important;
    width: 350px !important;
}

body:not(.mobile-view) .inbox-chat-area {
    display: flex !important;
    /* If a chat is active, show it. If not, the Empty State handles visibility internally */
    position: relative !important;
    width: auto !important;
    top: auto !important;
    left: auto !important;
}

/* 3. Ensure the Back Button is HIDDEN on Desktop */
body:not(.mobile-view) .mobile-only-btn {
    display: none !important;
}

/* =========================================
   ADMIN CREATE EVENT - MOBILE STACK FIX
   ========================================= */

/* 1. Force all rows in the form to stack vertically */
body.mobile-view #createEventForm > div {
    display: flex !important;
    flex-direction: column !important;
    grid-template-columns: none !important; /* Disable grid columns */
    gap: 15px !important;
    margin-top: 15px !important; /* Consistent spacing */
    width: 100% !important;
}

/* 2. Reset spacing for the top Photo section */
body.mobile-view #createEventForm > div:first-child {
    margin-top: 0 !important;
}

/* 3. Make the popup Fullscreen on mobile for better breathing room */
body.mobile-view #createEventPopup .popup-content {
    width: 100% !important;
    height: 100% !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
    padding: 25px !important;
    display: flex;
    flex-direction: column;
}

/* 4. Ensure scrolling works nicely */
body.mobile-view #createEventForm {
    padding-bottom: 50px; /* Extra space at bottom for scrolling */
    overflow-y: visible;
}

/* =========================================
   ANALYTICS DASHBOARD (Clean "Pulse" Theme)
   ========================================= */

/* Main Layout Container */
.analytics-container {
    max-width: 100% !important; /* Was 1400px */
    padding: 0; /* Padding is already handled by 'main' now */
}

.analytics-grid {
    display: grid;
    /* Fixed Left & Right columns, Flexible Center */
    grid-template-columns: 260px 1fr 300px; 
    /* Fixed Top Row, Taller Bottom Row */
    grid-template-rows: 150px 450px;    
    gap: 25px;
    margin-bottom: 50px;
}

/* CARD STYLE (Clean White) */
.dashboard-card {
    background: #ffffff;
    border-radius: 20px; /* Softer corners */
    padding: 25px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.03); /* Very subtle shadow */
    border: 1px solid rgba(0,0,0,0.04);
    
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

/* Hover Effect: Lift & Subtle Red Shadow */
.dashboard-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(217, 4, 41, 0.08);
    border-color: rgba(217, 4, 41, 0.1);
}

/* TYPOGRAPHY */
.card-header {
    font-size: 11px;
    font-weight: 700;
    color: #94a3b8; /* Muted gray text */
    text-transform: uppercase;
    letter-spacing: 1.2px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.kpi-number {
    font-size: 52px; /* Bigger Numbers */
    font-weight: 800;
    color: #1a1a1a;
    letter-spacing: -2px;
    margin-top: auto; /* Pushes number to bottom */
}

/* RED ACCENTS (Minimalist) */
.trend-badge {
    font-size: 11px;
    font-weight: 600;
    padding: 4px 10px;
    border-radius: 20px;
    background: #fff1f2;
    color: #d90429;
}

/* CHART CONTAINERS (Crucial for ECharts) */
.chart-container {
    flex: 1;           /* Fills the remaining height */
    min-height: 0;     /* Prevents overflow bugs */
    width: 100%;
    margin-top: 10px;
    border-radius: 12px;
}

/* GRID POSITIONS */
.card-main { grid-column: 2 / 3; grid-row: 1 / 3; }
.card-wide { grid-column: 1 / 3; }
.card-tall { grid-column: 3 / 4; grid-row: 1 / 3; }

/* =========================================
   HOME PAGE MINIMAL LIST CARDS (Horizontal)
   ========================================= */

/* Reset the Home Grid to be a single column stack */
#eventContainer {
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
}

/* The Card Container */
.minimal-event-card {
    display: flex;
    background: white;
    border: 1px solid #f0f0f0;
    border-radius: 12px;
    padding: 12px;
    gap: 15px;
    align-items: flex-start;
    transition: all 0.2s ease;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}

.minimal-event-card:hover {
    transform: translateX(5px);
    border-color: #d90429;
    box-shadow: 0 5px 15px rgba(217, 4, 41, 0.08);
}

/* Square Image on Left */
.minimal-card-img {
    width: 90px;
    height: 90px;
    border-radius: 8px;
    object-fit: cover;
    flex-shrink: 0;
}

.minimal-card-img-placeholder {
    width: 90px;
    height: 90px;
    border-radius: 8px;
    background: #f3f4f6;
    flex-shrink: 0;
}

/* Content Area */
.minimal-card-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 90px; /* Match image height */
}

/* Small Date Label */
.minimal-date {
    font-size: 10px;
    font-weight: 700;
    color: #d90429;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 2px;
}

/* Title */
.minimal-title {
    font-size: 15px;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0 0 3px 0;
    line-height: 1.2;
    /* Truncate to 1 line */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Description (2 lines max) */
.minimal-desc {
    font-size: 12px;
    color: #666;
    margin: 0 0 auto 0; 
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2; 
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Footer Metadata */
.minimal-footer {
    display: flex;
    gap: 12px;
    font-size: 11px;
    color: #888;
    font-weight: 500;
    margin-top: 5px;
}

/* Mobile Adjustments */
@media (max-width: 480px) {
    .minimal-card-img, .minimal-card-img-placeholder {
        width: 70px; height: 70px;
    }
    .minimal-card-content {
        height: auto; 
    }
    .minimal-desc {
        -webkit-line-clamp: 1; 
        line-clamp: 1; 
    }
}

/* Add this to your existing <style> block */

/* 1. Card Hover Effect (Micro-interaction) */
.chart-card, .kpi-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.chart-card:hover, .kpi-card:hover {
    transform: translateY(-5px); /* Subtle lift */
    box-shadow: 0 12px 30px rgba(0,0,0,0.08); /* Deeper shadow */
}

/* 2. Canvas Container */
.chart-box {
    position: relative; 
    height: 300px; 
    width: 100%; 
    /* Fixes weird rendering glitches on some screens */
    overflow: hidden; 
}

/* Clickable KPI Cards */
.clickable-card { cursor: pointer; }
.clickable-card:active { transform: scale(0.98); }

/* Modal Styles - FIXED LAYOUT */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.5); backdrop-filter: blur(5px);
    z-index: 1000; 
    display: flex; /* Flexbox centering */
    justify-content: center; 
    align-items: center;
}

.modal-content {
    background: white; 
    width: 90%; max-width: 500px;
    
    /* ðŸ›‘ THIS FIXES IT: Max height is 85% of screen, and use flex column */
    max-height: 85vh; 
    display: flex;
    flex-direction: column; 

    border-radius: 20px; 
    box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.modal-header {
    padding: 20px; border-bottom: 1px solid #eee;
    display: flex; justify-content: space-between; align-items: center;
    background: #f9fafb;
    flex-shrink: 0; /* Header never shrinks */
}

.modal-body { 
    padding: 0; 
    overflow-y: auto; /* ðŸ›‘ Only this middle part scrolls */
    flex-grow: 1;     /* Takes up all remaining space */
}

/* Footer styling (The filter area) */
.modal-footer {
    padding: 15px; 
    background: #f9fafb; 
    border-top: 1px solid #eee; 
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    flex-shrink: 0; /* Footer never shrinks */
}

.modal-header h2 { margin: 0; font-size: 18px; color: #1a1a1a; }
.close-modal { background: none; border: none; font-size: 24px; cursor: pointer; color: #666; }

/* List Items Styling */
.leaderboard-item, .event-item {
    display: flex; align-items: center; padding: 15px 20px;
    border-bottom: 1px solid #f0f0f0; gap: 15px;
}
.leaderboard-item:last-child, .event-item:last-child { border-bottom: none; }

/* List Items Styling */
.leaderboard-item, .event-item {
    display: flex; align-items: center; padding: 15px 20px;
    border-bottom: 1px solid #f0f0f0; gap: 15px;
}
.leaderboard-item:last-child, .event-item:last-child { border-bottom: none; }
.rank-badge {
    width: 30px; height: 30px; border-radius: 50%; background: #eee;
    display: flex; justify-content: center; align-items: center;
    font-weight: 800; font-size: 12px; color: #555;
}
/* Gold/Silver/Bronze */
.rank-1 { background: #FFD700; color: #B45309; }
.rank-2 { background: #C0C0C0; color: #333; }
.rank-3 { background: #CD7F32; color: #fff; }

/* Make this modal wider than the others */
.modal-large {
    max-width: 800px;
    width: 95%;
}

/* =========================================
   EVENT CALENDAR / TIMELINE STYLES
   ========================================= */
.calendar-wrapper {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.calendar-section-title {
    font-size: 14px;
    font-weight: 700;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.calendar-section-title::after {
    content: ''; flex: 1; height: 1px; background: #e2e8f0;
}

.calendar-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 15px;
}

/* The Event Card */
.cal-event-card {
    background: #fff;
    border: 1px solid #f0f0f0;
    border-radius: 12px;
    padding: 15px;
    display: flex;
    gap: 15px;
    transition: all 0.2s ease;
    position: relative;
    overflow: hidden;
}

.cal-event-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.05);
    border-color: rgba(0,0,0,0.1);
}

/* Color Coded Strips */
.cal-event-card.status-registered { border-left: 4px solid #d90429; } /* Red */
.cal-event-card.status-attended { border-left: 4px solid #2a9d8f; }   /* Teal */
.cal-event-card.status-unregistered { border-left: 4px solid #fb5607; } /* Orange */
.cal-event-card.status-missed { border-left: 4px solid #8d99ae; }     /* Gray */

/* Date Box */
.cal-date-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 50px;
    height: 50px;
    background: #f8fafc;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
}

.cal-month { font-size: 10px; font-weight: 700; text-transform: uppercase; color: #64748b; }
.cal-day { font-size: 18px; font-weight: 800; color: #1e293b; line-height: 1; }

/* Info */
.cal-info { flex: 1; }
.cal-title { font-size: 14px; font-weight: 700; color: #1e293b; margin-bottom: 4px; }
.cal-meta { font-size: 11px; color: #64748b; display: flex; gap: 10px; align-items: center; }

/* Status Badges */
.cal-badge {
    font-size: 10px; font-weight: 700; padding: 2px 8px; border-radius: 4px; text-transform: uppercase;
}
.badge-registered { background: #fff1f2; color: #d90429; }
.badge-attended { background: #e6fffa; color: #2a9d8f; }
.badge-explore { background: #fff7ed; color: #fb5607; }
.badge-missed { background: #f1f5f9; color: #64748b; }

/* =========================================
   MONTHLY CALENDAR WIDGET (FULL CELLS)
   ========================================= */
.calendar-widget {
    background: white;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    margin-bottom: 40px;
    border: 1px solid #f0f0f0;
}

/* Header */
.cal-header {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
}
.cal-month-name { font-size: 20px; font-weight: 800; color: #1a1a1a; }
.cal-nav-btn {
    background: #f8fafc; border: 1px solid #e2e8f0; width: 32px; height: 32px;
    border-radius: 8px; cursor: pointer; display: flex; align-items: center;
    justify-content: center; transition: all 0.2s; font-weight: bold; color: #64748b;
}
.cal-nav-btn:hover { background: #d90429; color: white; border-color: #d90429; }

/* Grid */
.cal-grid-header, .cal-grid-days {
    display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; gap: 6px;
}
.cal-grid-header { margin-bottom: 10px; }
.cal-day-name { font-size: 11px; font-weight: 700; color: #94a3b8; text-transform: uppercase; }

/* ðŸ“… THE DAY CELL (Updated) */
.cal-day-cell {
    min-height: 90px; /* Taller to fit text */
    border-radius: 12px;
    border: 1px solid transparent;
    padding: 6px;
    display: flex;
    flex-direction: column;
    align-items: center; /* Center the number */
    justify-content: flex-start;
    cursor: pointer;
    transition: all 0.2s;
    background: #fff;
}

.cal-day-cell:hover { background: #f8fafc; transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

/* Day Number */
.cal-day-number {
    font-size: 13px; font-weight: 700; color: #333;
    width: 24px; height: 24px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    margin-bottom: 4px;
}

/* Today State */
.cal-day-cell.is-today .cal-day-number {
    background: #1a1a1a; color: white;
}

/* ðŸ”´ REGISTERED EVENT CELL (Red Theme) */
.cal-day-cell.has-event-registered {
    background-color: #fff1f2; /* Light Red */
    border: 1px solid #fecdd3;
}
.cal-day-cell.has-event-registered .cal-day-number { color: #9f1239; }
.cal-day-cell.has-event-registered .cal-event-label {
    background: rgba(255, 255, 255, 0.6);
    color: #881337; border-left: 3px solid #d90429;
}

/* ðŸŸ  UNREGISTERED EVENT CELL (Orange Theme) */
.cal-day-cell.has-event-unregistered {
    background-color: #fff7ed; /* Light Orange */
    border: 1px solid #fed7aa;
}
.cal-day-cell.has-event-unregistered .cal-day-number { color: #9a3412; }
.cal-day-cell.has-event-unregistered .cal-event-label {
    background: rgba(255, 255, 255, 0.6);
    color: #7c2d12; border-left: 3px solid #fb5607;
}

/* The Text Label Inside Cell */
.cal-event-label {
    font-size: 9px;
    font-weight: 700;
    width: 100%;
    padding: 3px 5px;
    border-radius: 4px;
    text-align: left;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 2px;
}

/* Empty Padding Days */
.cal-day-cell.is-padding { opacity: 0; pointer-events: none; }

/* =========================================
   MONTHLY CALENDAR WIDGET (4 COLOR STATES)
   ========================================= */

/* ... (Keep existing Calendar Container & Header styles) ... */

/* ðŸ“… 1. FUTURE: REGISTERED (Red - Existing) */
.cal-day-cell.has-event-registered {
    background-color: #fff1f2;
    border: 1px solid #fecdd3;
}
.cal-day-cell.has-event-registered .cal-day-number { color: #9f1239; }
.cal-day-cell.has-event-registered .cal-event-label {
    background: rgba(255, 255, 255, 0.6);
    color: #881337; border-left: 3px solid #d90429;
}

/* ðŸ“… 2. FUTURE: UNREGISTERED (Orange - Existing) */
.cal-day-cell.has-event-unregistered {
    background-color: #fff7ed;
    border: 1px solid #fed7aa;
}
.cal-day-cell.has-event-unregistered .cal-day-number { color: #9a3412; }
.cal-day-cell.has-event-unregistered .cal-event-label {
    background: rgba(255, 255, 255, 0.6);
    color: #7c2d12; border-left: 3px solid #fb5607;
}

/* âœ… 3. PAST: ATTENDED (Teal - New) */
.cal-day-cell.has-event-attended {
    background-color: #f0fdfa;
    border: 1px solid #ccfbf1;
}
.cal-day-cell.has-event-attended .cal-day-number { color: #0f766e; }
.cal-day-cell.has-event-attended .cal-event-label {
    background: rgba(255, 255, 255, 0.6);
    color: #115e59; border-left: 3px solid #2a9d8f;
}

/* âŒ 4. PAST: MISSED (Grey - New) */
.cal-day-cell.has-event-missed {
    background-color: #f8fafc;
    border: 1px solid #e2e8f0;
}
.cal-day-cell.has-event-missed .cal-day-number { color: #64748b; }
.cal-day-cell.has-event-missed .cal-event-label {
    background: rgba(255, 255, 255, 0.6);
    color: #475569; border-left: 3px solid #94a3b8;
}

/* =========================================
   MOBILE CALENDAR FIXES (Prevent Cut-off)
   ========================================= */

/* Shared Mobile Styles (Real Device + Simulator) */
@media (max-width: 768px) {
    .calendar-widget {
        padding: 10px !important; /* Shrink container padding */
        margin-bottom: 20px;
    }

    .cal-header {
        margin-bottom: 15px;
    }

    .cal-month-name {
        font-size: 16px; /* Smaller Title */
    }

    .cal-grid-header, .cal-grid-days {
        gap: 2px !important; /* Tiny gap between days */
    }

    .cal-day-cell {
        min-height: 55px !important; /* Shorter cells */
        padding: 2px !important;
        border-radius: 8px !important;
    }

    .cal-day-number {
        width: 20px; 
        height: 20px; 
        font-size: 11px; /* Smaller numbers */
        margin-bottom: 2px;
    }

    /* Make event labels tiny but readable */
    .cal-event-label {
        font-size: 7px !important; 
        padding: 2px 3px !important;
        line-height: 1.1;
        letter-spacing: -0.2px;
        margin-bottom: 1px;
    }
}

/* ðŸ”¥ SPECIFIC FIX FOR YOUR SIMULATOR MODE */
body.mobile-view .calendar-widget {
    padding: 8px !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    margin: 0 -15px 20px -15px !important; /* Pull it to the edges */
    width: calc(100% + 30px) !important;
}

body.mobile-view .cal-grid-header, 
body.mobile-view .cal-grid-days {
    gap: 1px !important; /* Tightest possible gap */
}

body.mobile-view .cal-day-name {
    font-size: 9px !important;
}

/* Ensure text doesn't force the cell wider */
body.mobile-view .cal-day-cell {
    min-width: 0 !important; /* Critical: Allows flex item to shrink */
    overflow: hidden;
}

/* =========================================
   DESKTOP ADMIN TABLE (Clean & Modern)
   ========================================= */
.admin-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.03);
    border: 1px solid #f1f5f9;
    margin-bottom: 30px;
    font-family: 'Poppins', sans-serif;
}

/* Header Row */
.admin-table thead {
    background: #f8fafc;
}

.admin-table th {
    text-align: left;
    padding: 18px 25px;
    font-size: 11px;
    font-weight: 700;
    color: #64748b; /* Cool Gray */
    text-transform: uppercase;
    letter-spacing: 0.8px;
    border-bottom: 2px solid #e2e8f0;
}

/* Body Rows */
.admin-table td {
    padding: 18px 25px;
    border-bottom: 1px solid #f1f5f9;
    vertical-align: middle;
    color: #334155;
    font-size: 14px;
}

/* Hover Effect */
.admin-table tr:hover {
    background-color: #fcfcfc;
}

/* Specific Columns Styling */
.event-title-text {
    font-weight: 600;
    color: #0f172a;
    font-size: 15px;
    margin-bottom: 3px;
}

.event-loc-text {
    font-size: 12px;
    color: #94a3b8;
}

.admin-cat-pill {
    background: #f1f5f9;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    color: #475569;
    display: inline-block;
}

/* Status Pills */
.status-pill {
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
}
.status-pill.upcoming { background: #dcfce7; color: #166534; }
.status-pill.past { background: #f1f5f9; color: #64748b; }

/* Desktop Buttons */
.admin-table td:last-child {
    text-align: right;
    white-space: nowrap;
}

/* =========================================
   FINAL ADMIN FIXES (Buttons & Mobile Cards)
   ========================================= */

/* 1. RESTORE BUTTON STYLES (Fixes "Ugly Buttons") */
.action-btn {
    border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;
    font-size: 13px; font-weight: 600; margin-left: 5px; transition: all 0.2s ease;
    display: inline-block; font-family: 'Poppins', sans-serif;
}
.action-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 6px rgba(0,0,0,0.1); }

/* Button Colors */
.btn-ppl { background: #fdf2f8; color: #db2777; border: 1px solid #fce7f3; }
.btn-edit { background: #eff6ff; color: #2563eb; border: 1px solid #dbeafe; }
.btn-del { background: #fee2e2; color: #dc2626; border: 1px solid #fecaca; }

/* =================================================================
   MASTER MOBILE ADMIN SUITE (Users, Connections, Analytics)
   ================================================================= */
@media (max-width: 900px) {
    
    /* --- 1. GLOBAL LAYOUT ADJUSTMENTS --- */
    .admin-container, 
    .admin-dashboard-container, 
    .analytics-container {
        padding: 20px 15px !important;
        width: 100% !important;
        box-sizing: border-box;
        overflow-x: hidden;
    }

    /* --- 2. TABLE-TO-CARD TRANSFORMATION (The Magic Fix) --- */
    /* Target both User Table and Connections Table */
    .user-table, .admin-table-widget {
        display: block;
        background: transparent !important;
        box-shadow: none !important;
        border: none !important;
    }

    /* Hide the original table headers */
    .user-table thead, .admin-table-widget thead { display: none; }

    .user-table tbody, .admin-table-widget tbody {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    /* Turn each Row into a Card */
    .user-table tr, .admin-table-widget tr {
        background: white;
        display: flex;
        flex-direction: column;
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        padding: 20px;
        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
        margin-bottom: 0;
    }

    /* Stack Cells Vertically */
    .user-table td, .admin-table-widget td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0 !important;
        border-bottom: 1px solid #f1f5f9;
        text-align: right;
        width: 100%;
        box-sizing: border-box;
        font-size: 13px;
    }

    /* Remove border from last item */
    .user-table td:last-child, .admin-table-widget td:last-child {
        border-bottom: none;
        padding-bottom: 0 !important;
        margin-top: 10px;
        justify-content: flex-end; /* Buttons to the right */
    }

    /* INJECT LABELS: This grabs the 'data-label' from your HTML */
    .user-table td::before, .admin-table-widget td::before {
        content: attr(data-label);
        font-size: 11px;
        font-weight: 700;
        color: #94a3b8;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-align: left;
        margin-right: 15px;
        min-width: 80px;
    }

    /* --- 3. CONNECTIONS PAGE SPECIFIC FIXES --- */
    
    /* Hide the desktop arrow column */
    .admin-table-widget td.arrow-col { display: none; } 
    
    /* Stack the User Badges (Initiator/Recipient) */
    .user-badge-container {
        width: 100%; 
        justify-content: flex-end;
    }
    
    /* Make Badges Full Width for cleaner look */
    .initiator-badge, .recipient-badge {
        width: auto;
        min-width: 140px;
        text-align: right;
        flex-direction: row; /* Keep avatar/text side-by-side inside badge */
        align-items: center;
        justify-content: space-between;
        gap: 10px;
    }

    /* Stack the Notes Section nicely */
    .note-container {
        flex-direction: column;
        width: 100%;
        gap: 10px;
        align-items: stretch;
    }
    
    /* Timestamp fix */
    .timestamp-box { 
        flex-direction: row; 
        gap: 10px; 
        align-items: baseline;
    }

    /* --- 4. USER ANALYTICS PAGE FIXES --- */
    
    /* Stack the Header */
    .analytics-hero {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    .admin-back-btn { width: 100%; justify-content: center; }

    /* Rank Banner Stack */
    .rank-banner {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
        padding: 25px;
    }
    .rank-banner::after { top: -30px; right: -30px; opacity: 0.4; }
    
    /* KPI Grid: 2 columns instead of 4 */
    .kpi-grid { 
        grid-template-columns: 1fr 1fr; 
        gap: 15px;
    }
    
    /* Charts: 1 column instead of 2 */
    .charts-row { 
        grid-template-columns: 1fr; 
        gap: 20px;
    }
    
    .chart-box { 
        height: 250px !important; /* Shorter charts on mobile */
    }

    /* --- 5. ADMIN USERS FILTER FIX --- */
    .filter-bar {
        flex-direction: column !important; /* Stack vertically */
        gap: 10px !important;
    }

    .search-input, .filter-select {
        width: 100% !important; /* Full width */
        min-width: 0 !important; /* Remove the 200px limit */
        box-sizing: border-box !important;
    }
}

/* =========================================
   CONNECTIONS PAGE POLISH FIXES
   ========================================= */

/* 1. Header Layout - Force Button to Right */
.admin-header-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 30px;
    width: 100%;
}

/* 2. "Back to Analytics" Button Cleanup */
.admin-btn-outline {
    background: white;
    border: 1px solid #e2e8f0;
    padding: 10px 20px;
    border-radius: 30px; /* Pill Shape */
    font-size: 13px;
    font-weight: 600;
    color: #64748b;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.03);
}

.admin-btn-outline:hover {
    border-color: #d90429;
    color: #d90429;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(217, 4, 41, 0.1);
}

/* 3. Fix Invisible Table Rows (Darker Borders) */
.admin-table-widget td {
    /* Was #f8fafc (too light), changing to #e2e8f0 */
    border-bottom: 1px solid #e2e8f0 !important; 
}

/* Ensure the last row doesn't have a double border with the card */
.admin-table-widget tr:last-child td {
    border-bottom: none !important;
}

/* 4. Mobile Adjustments for Header */
@media (max-width: 768px) {
    .admin-header-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    .admin-btn-outline {
        width: 100%;
        justify-content: center;
    }
}

/* =========================================
   CALENDAR LEGEND (NEW)
   ========================================= */
.cal-legend {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    padding: 0 10px 15px 10px; /* Spacing between header and grid */
    font-size: 11px;
    font-weight: 700;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.legend-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}

/* Match the Calendar Cell Colors */
.dot-red { background-color: #d90429; box-shadow: 0 0 0 2px #fecdd3; }       /* Registered */
.dot-teal { background-color: #0f766e; box-shadow: 0 0 0 2px #ccfbf1; }      /* Attended */
.dot-orange { background-color: #fb5607; box-shadow: 0 0 0 2px #fed7aa; }    /* Unregistered */
.dot-gray { background-color: #94a3b8; box-shadow: 0 0 0 2px #f1f5f9; }      /* Missed */

/* Mobile Adjustment */
@media (max-width: 768px) {
    .cal-legend {
        justify-content: center; /* Center on mobile */
        flex-wrap: wrap;
        gap: 10px;
    }
}
/* =========================================
   NEW BADGE STYLES (Clean & Modern)
   ========================================= */

/* The "Going" / "Registered" Badge on Event Cards */
.status-going, 
.badge-registered, 
.registered-badge {
    display: inline-flex !important;
    align-items: center;
    gap: 6px;
    background-color: #ecfdf5 !important; /* Light Mint Green */
    color: #059669 !important;            /* Dark Emerald Green */
    padding: 6px 12px !important;
    border-radius: 20px !important;
    font-size: 11px !important;
    font-weight: 700 !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border: 1px solid #d1fae5 !important;
    box-shadow: none !important;
}

/* Add a checkmark icon automatically */
.status-going::before,
.badge-registered::before,
.registered-badge::before {
    content: 'âœ“';
    font-weight: 900;
    font-size: 12px;
}

/* =========================================
   1. LAPTOP OPTIMIZATION (1024px - 1366px)
   ========================================= */
@media (max-width: 1366px) and (min-width: 901px) {
    
    /* SIDEBAR: Keep it compact */
    body:not(.mobile-view) .global-nav {
        width: 220px; 
        padding: 15px 0 !important;
    }
    
    /* CONTENT MARGINS: Match compact sidebar */
    body:not(.mobile-view) main,
    .inbox-main {
        margin-left: 220px !important;
        width: calc(100% - 220px) !important;
        padding: 20px; 
    }

    /* GRID LAYOUT: Hero Left (70%), Buttons Right (30%) */
    .dashboard-grid {
        display: grid !important;
        grid-template-columns: 7fr 3fr !important; 
        gap: 15px !important;
    }
    
    /* BUTTON STACKING: Force Vertical Stack on Right Side */
    .quick-actions-sidebar {
        display: flex !important;
        flex-direction: column !important; /* Stack Scan on top of Upload */
        gap: 15px !important;
        height: 100% !important;
    }

    /* BUTTON SIZE: Stretch to fill vertical space */
    .action-tile {
        flex: 1 !important; 
        min-height: auto !important;
        flex-direction: row !important; /* Icon Left, Text Right */
        align-items: center !important;
        padding: 15px !important;
    }
    
    /* TEXT SIZING: Smaller for Laptop */
    body:not(.mobile-view) .nav-logo { font-size: 24px !important; margin-bottom: 20px !important; }
    body:not(.mobile-view) .center-nav { gap: 8px !important; }
    body:not(.mobile-view) .center-nav a { font-size: 14px !important; padding: 8px 12px !important; }
}

/* =========================================
   2. MOBILE POLISH: COMPACT & 2-COLUMN
   ========================================= */
@media (max-width: 768px) {
    
    /* CONTAINER: Breathing room */
    body.mobile-view main {
        padding: 15px !important; 
        background: #f4f4f5; 
    }

    /* BUTTONS: 2-Column Grid (Side-by-Side) */
    body.mobile-view .quick-actions-sidebar {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important; 
        gap: 12px !important;
        width: 100% !important;
        height: auto !important; /* Let them be their natural height */
        flex-direction: unset !important;
    }

    /* BUTTON STYLE: Square & Compact */
    body.mobile-view .action-tile {
        min-height: 100px !important; 
        flex-direction: column !important; /* Icon Top, Text Bottom */
        justify-content: center !important;
        text-align: center !important;
        padding: 15px !important;
        border-radius: 16px !important;
    }

    body.mobile-view .tile-info {
        align-items: center !important; 
        margin-top: 10px;
    }
    
    body.mobile-view .tile-arrow { display: none !important; }

    /* HERO BANNER: Aggressively Compact */
    body.mobile-view .hero-card {
        min-height: auto !important;     
        padding: 25px 20px !important;   
        margin-bottom: 15px !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
    }
    
    body.mobile-view .hero-content h1 {
        font-size: 24px !important; 
        line-height: 1.2 !important;
        margin-bottom: 8px !important;
    }
    
    /* TEXT FIX: Use standard line-clamp */
    body.mobile-view .hero-content p {
        font-size: 13px !important;
        margin-bottom: 15px !important;
        line-height: 1.4 !important;
        display: -webkit-box;
        line-clamp: 2;            /* Standard */
        -webkit-line-clamp: 2;    /* Vendor */
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    /* TODAY'S EVENT: Compact */
    body.mobile-view .todays-event-card {
        min-height: auto !important;
        height: auto !important;
        padding-top: 80px !important; 
        margin-bottom: 15px !important;
    }

    body.mobile-view .t-card-content { 
        padding: 15px !important;
        gap: 10px !important;
    }
    
    body.mobile-view .t-event-title { 
        font-size: 20px !important;
        margin-bottom: 5px !important;
    }

    body.mobile-view .t-card-actions button {
        padding: 8px 15px !important;
        font-size: 12px !important;
        height: 36px !important;
    }
}

/* FORCE CHANGE WELCOME BANNER HEIGHT */
body.mobile-view .visual-hero-banner {
    min-height: 250px !important; /* Change 250px to whatever you want */
    height: auto !important;
}

/* FORCE CHANGE EVENT CARD HEIGHT */
body.mobile-view .hero-card {
    min-height: 300px !important; /* Forces it to be taller */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
}

/* =========================================
   FORCE COMPACT MOBILE HERO & HAPPENING TODAY
   ========================================= */

/* 1. Make the "Welcome / Unleash Pulse" Banner Shorter */
body.mobile-view .visual-hero-banner {
    min-height: 220px !important;    /* Forces it down from 350px */
    height: auto !important;
    padding: 30px 20px !important;   /* Reduces top/bottom padding */
}

/* Optional: Scale down the rings/circles so they fit the new smaller height */
body.mobile-view .hero-visual-abstract {
    transform: translate(-50%, -50%) scale(0.6) !important; /* Shrink visual */
}


/* 2. Make the "Happening Today" Card Shorter */
body.mobile-view .todays-event-card {
    min-height: 180px !important;    /* Enforce a smaller height */
    height: auto !important;
    padding-top: 20px !important;    /* drastic cut from the original 80px */
    justify-content: flex-end !important;
}

/* Fix the text so it doesn't bunch up in the smaller space */
body.mobile-view .t-card-content {
    padding: 15px !important;
    gap: 5px !important;             /* Reduce gap between title and buttons */
}

body.mobile-view .t-event-info {
    margin-top: 0 !important;        /* Remove extra spacing above title */
}

/* =========================================
   TEXT SWAPPER (Desktop vs Mobile)
   ========================================= */

/* DEFAULT (DESKTOP): Hide the short mobile text */
.mobile-only {
    display: none !important;
}

/* MOBILE SIMULATOR: Switch them! */
body.mobile-view .desktop-only {
    display: none !important; /* Hide long text */
}

body.mobile-view .mobile-only {
    display: inline !important; /* Show short text */
}

/* =========================================
   MOBILE FONT SIZING FIXES
   ========================================= */
body.mobile-view .visual-hero-banner {
    min-height: auto !important;    /* Allow height to shrink */
    padding: 30px 20px !important;  /* Tighter padding */
}

/* Make the mobile headline smaller so it fits on one line */
body.mobile-view .hero-content-wrapper h1 {
    font-size: 32px !important;     /* Smaller font (was 56px) */
    line-height: 1.1 !important;
    white-space: nowrap !important; /* Force "Unleash Pulse" to 1 line */
    margin-bottom: 10px !important;
}

/* Make the mobile description smaller */
body.mobile-view .hero-content-wrapper p.mobile-only {
    font-size: 13px !important;
    margin-bottom: 20px !important;
    opacity: 0.9;
}

/* =========================================
   "APP-LIKE" MAKEOVER (Bleed & Overlap)
   ========================================= */

/* 1. HERO: Full Width & Curved Bottom */
body.mobile-view .visual-hero-banner {
    /* Stretch to edges to kill the "Box" look */
    width: calc(100% + 30px) !important; 
    margin-left: -15px !important;
    margin-right: -15px !important;
    margin-top: -15px !important; /* Remove gap between navbar and hero */
    
    /* Curve ONLY the bottom */
    border-radius: 0 0 40px 40px !important;
    
    /* Add extra padding at bottom to make room for the overlap */
    padding-bottom: 70px !important; 
    
    /* Clean up borders/shadows */
    box-shadow: none !important;
    border: none !important;
}

/* 2. CONTENT: Pull it UP to overlap the Hero */
body.mobile-view #userDashboardWrapper {
    margin-top: -50px !important; /* THIS IS KEY: Pulls cards up -50px */
    position: relative;
    z-index: 10;                  /* Ensures cards float ON TOP of hero */
    padding: 0 10px;              /* Keep slight side padding for cards */
}

/* 3. BUTTONS: Make them sleek & equal width */
body.mobile-view .hero-actions {
    display: flex !important;
    gap: 10px !important;
    width: 100% !important;
    justify-content: center !important;
}

body.mobile-view .btn-hero-main,
body.mobile-view .btn-hero-secondary {
    flex: 1 !important;             /* Force equal width */
    text-align: center !important;
    justify-content: center !important;
    padding: 12px 0 !important;
    border-radius: 16px !important; /* Modern "Squircle" shape */
    font-size: 13px !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2) !important; /* Lift them up */
}

/* 4. OPTIONAL: Soften the "Upcoming Events" Card */
/* The red gradient was looking very heavy/blocky. This softens it. */
body.mobile-view .hero-card {
    border-radius: 24px !important;
    box-shadow: 0 15px 40px rgba(0,0,0,0.1) !important; /* Deep soft shadow */
    margin-top: 10px !important;
}

/* ============================================================
   MOBILE APP REDESIGN: "CINEMATIC CURVE" THEME
   ============================================================ */

/* 1. RESET MAIN CONTAINER PADDING FOR FLUID LOOK */
body.mobile-view main {
    padding: 0 !important; /* Remove edge padding so Hero touches sides */
    background-color: #f8f9fa !important; /* Cleaner light gray bg */
}

/* 2. HERO SECTION: FULL WIDTH & CURVED BOTTOM */
body.mobile-view .visual-hero-banner {
    width: 100% !important;
    margin: 0 !important;
    border-radius: 0 0 40px 40px !important; /* The "App" Curve */
    
    /* Deep Gradient Background */
    background: linear-gradient(180deg, #0f172a 0%, #1e293b 80%, #334155 100%) !important;
    
    padding: 80px 20px 80px 20px !important; /* Extra bottom padding for overlap */
    min-height: auto !important;
    text-align: center !important;
    position: relative;
    z-index: 0;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15) !important;
}

/* Compact Text for Mobile */
body.mobile-view .hero-content-wrapper h1 {
    font-size: 32px !important;
    margin-bottom: 5px !important;
    white-space: nowrap !important;
}

body.mobile-view .hero-content-wrapper p {
    font-size: 13px !important;
    opacity: 0.8 !important;
    margin-bottom: 0 !important;
    display: none !important; /* Hide description to save space, cleaner look */
}

/* Hide the Desktop Rings/Visuals on Mobile */
body.mobile-view .hero-visual-abstract { display: none !important; }

/* Hide the Hero Buttons (Explore/Network) - Redundant on Home */
body.mobile-view .hero-actions { display: none !important; }


/* 3. THE "FLOATING" DASHBOARD LAYER */
body.mobile-view #userDashboardWrapper {
    margin-top: -50px !important; /* PULLS content up over the Hero */
    padding: 0 20px 40px 20px !important; /* Add side padding back here */
    position: relative;
    z-index: 10;
}


/* 4. REDESIGNED "HAPPENING TODAY" CARD (Glass-like) */
body.mobile-view .todays-event-card {
    border-radius: 24px !important;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2) !important;
    margin-bottom: 25px !important;
    min-height: auto !important;
    overflow: hidden !important;
    background: #1a1a1a !important; /* Fallback */
    border: 2px solid white !important; /* Crisp border to pop against header */
}

/* Make text compact */
body.mobile-view .t-card-content {
    padding: 20px !important;
}
body.mobile-view .t-event-title {
    font-size: 22px !important;
    margin-bottom: 5px !important;
}
body.mobile-view .t-event-meta {
    font-size: 12px !important;
    margin-bottom: 15px !important;
}

/* 5. REDESIGNED QUICK ACTIONS (Scan/Upload) */
/* Hide the "Upcoming Event" placeholder card to reduce clutter */
body.mobile-view #nextEventCard { display: none !important; }

body.mobile-view .quick-actions-sidebar {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important; /* 2 Columns */
    gap: 15px !important;
    margin-bottom: 30px !important;
}

body.mobile-view .action-tile {
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    padding: 20px 10px !important;
    border-radius: 20px !important;
    background: white !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05) !important;
    border: 1px solid rgba(0,0,0,0.05) !important;
    min-height: 110px !important;
}

/* Make icons bigger and centered */
body.mobile-view .tile-icon-bubble {
    width: 40px !important;
    height: 40px !important;
    margin-bottom: 10px !important;
    background: rgba(217, 4, 41, 0.1) !important; /* Light Red bg */
    border-radius: 50% !important;
}
body.mobile-view .tile-icon-bubble svg {
    stroke: #d90429 !important; /* Red Icon */
}

/* Text Styling */
body.mobile-view .tile-info h3 {
    color: #1a1a1a !important;
    font-size: 14px !important;
    margin-bottom: 2px !important;
}
body.mobile-view .tile-info span {
    color: #888 !important;
    font-size: 11px !important;
}


/* 6. UPCOMING EVENTS LIST (Clean) */
body.mobile-view #userEventsWrapper h2 {
    font-size: 18px !important;
    margin-bottom: 15px !important;
    padding-left: 5px !important;
    color: #333 !important;
}

/* Force events to look like horizontal list items, not big cards */
body.mobile-view .grid-event-card {
    display: flex !important;
    flex-direction: row !important;
    height: 100px !important;
    padding: 10px !important;
    align-items: center !important;
    gap: 15px !important;
    border: none !important;
    background: white !important;
    border-radius: 16px !important;
    margin-bottom: 15px !important;
    box-shadow: 0 2px 10px rgba(0,0,0,0.03) !important;
}

/* Thumbnail Image */
body.mobile-view .card-image-placeholder {
    width: 80px !important;
    height: 80px !important;
    border-radius: 12px !important;
    flex-shrink: 0 !important;
}

/* Content */
body.mobile-view .card-content {
    padding: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
}

body.mobile-view .card-title {
    font-size: 15px !important;
    margin-bottom: 4px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

body.mobile-view .card-desc { display: none !important; } /* Hide desc on mobile list */

body.mobile-view .grid-event-card button {
    display: none !important; /* Hide "View Details" button, make whole card clickable in JS if needed */
}

/* ============================================================
   MOBILE HOME PAGE OVERRIDES
   (Fixes Banner Overlap & Text Spacing for Mobile View)
   ============================================================ */

@media (max-width: 768px) {

    /* 1. HERO BANNER LAYOUT
       Create a large empty space at the bottom (180px) to allow
       the dashboard card to overlap without covering the text. */
    body.mobile-view #userWelcomeBanner {
        width: calc(100% + 34px);       /* Stretch full width */
        margin: -17px -17px 0 -17px;    /* Pull to edges */
        border-radius: 0 0 40px 40px;   /* Curve bottom */
        
        /* The Magic Number: 180px padding at bottom */
        padding: 60px 20px 180px 20px !important;
        
        background: linear-gradient(180deg, #0f172a 0%, #1e293b 80%, #334155 100%);
        min-height: auto;
        
        /* Centering Content */
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    /* 2. TEXT SIZING 
       Ensure the main title fits nicely. */
    body.mobile-view #userWelcomeBanner h1 {
        font-size: 30px !important;
        line-height: 1.2;
        margin-bottom: 0;
        width: 100%;
    }

    /* 3. DASHBOARD LIFT (The Overlap)
       Pull the dashboard up by 80px. Since we added 180px of padding above,
       this leaves 100px of safe "blue space" between text and card. */
    body.mobile-view #userDashboardWrapper {
        margin-top: -80px !important;
        position: relative;
        z-index: 10;
        padding: 0 5px;
    }

    /* 4. HAPPENING TODAY CARD (Structure) 
       Reset height to auto so it grows with content. */
    body.mobile-view #todaysEventSection .todays-event-card {
        min-height: auto !important;
        height: auto !important;
        background: #1a1a1a;
        border: 2px solid white;
        border-radius: 24px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.25);
        margin-bottom: 25px;
        
        /* Flex column ensures badge sits ON TOP of title, not over it */
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        padding-top: 25px; /* Internal spacing */
    }

    /* 5. BADGE POSITIONING (Fixing the Overlap)
       Force the "Happening Today" badge to be a block element
       that pushes the title down. */
    body.mobile-view .live-badge {
        position: relative !important;
        top: auto; right: auto; left: auto; /* Reset absolute positioning */
        align-self: flex-start;             /* Align to left */
        margin-left: 20px;                  /* Match card padding */
        margin-bottom: 10px;                /* Push title down */
        display: inline-block;
        background: #d90429;
        border: none;
    }

    /* Adjust content padding inside the card */
    body.mobile-view .t-card-content {
        padding: 0 20px 25px 20px !important; /* Remove top padding since badge handles it */
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    body.mobile-view .t-event-title {
        margin-top: 0 !important;
    }

    /* 6. HIDE DESKTOP ELEMENTS
       Clean up the UI by hiding unused desktop visuals. */
    body.mobile-view .hero-visual-abstract, 
    body.mobile-view .hero-actions { 
        display: none !important; 
    }
}